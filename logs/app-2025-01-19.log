2025-01-19 11:48:54 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:48:54 [INFO] __main__: 正在启动服务...
2025-01-19 11:48:54 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 11:48:54 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 11:48:55 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:48:55 [INFO] __main__: [Gradio-Err] 2025-01-19 11:48:55 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:48:57 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:48:57 [INFO] __main__: [Gradio-Err] 2025-01-19 11:48:57 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:48:58 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:48:58 [INFO] __main__: [Gradio-Err] 2025-01-19 11:48:58 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:49:00 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:49:00 [INFO] __main__: [Gradio-Err] 2025-01-19 11:49:00 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:49:03 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:49:03 [INFO] __main__: [Gradio-Err] 2025-01-19 11:49:03 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:49:05 [INFO] root: AI服务客户端初始化成功
2025-01-19 11:49:05 [INFO] __main__: [Gradio-Err] 2025-01-19 11:49:05 [INFO] root: AI服务客户端初始化成功
2025-01-19 11:49:05 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:49:05 [INFO] __main__: [Gradio-Err] 2025-01-19 11:49:05 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:49:05 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:49:05 [INFO] __main__: [Gradio-Err] 2025-01-19 11:49:05 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:49:05 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:49:05 [INFO] __main__: [Gradio-Err] 2025-01-19 11:49:05 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:49:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:49:05 [INFO] __main__: [Gradio-Err] 2025-01-19 11:49:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:49:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 11:49:05 [INFO] __main__: [Gradio-Err] 2025-01-19 11:49:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 11:49:14 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [84791]
2025-01-19 11:49:14 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-01-19 11:49:14 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-01-19 11:49:14 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Err] File "<string>", line 15, in <module>
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Err] File "/Users/txin/food_journey_backend/src/web_app.py", line 496, in launch
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Err] self.interface.launch(**launch_kwargs)
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/gradio/blocks.py", line 2619, in launch
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Err] raise ValueError(
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Err] ValueError: When localhost is not accessible, a shareable link must be created. Please set share=True or check your proxy settings to allow access to localhost.
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 11:49:18 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 11:49:19 [ERROR] __main__: Gradio 服务意外退出
2025-01-19 11:49:19 [INFO] __main__: 正在清理资源...
2025-01-19 11:49:19 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 11:49:19 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-01-19 11:49:19 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 11:49:19 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 11:49:19 [INFO] __main__: Gradio 服务已关闭
2025-01-19 11:50:14 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:50:14 [INFO] __main__: 正在启动服务...
2025-01-19 11:50:14 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 11:50:14 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 11:50:15 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:50:15 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:15 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:50:17 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:50:17 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:17 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:50:18 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:50:18 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:18 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:50:20 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:50:20 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:20 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:50:22 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:50:22 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:22 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:50:25 [INFO] root: AI服务客户端初始化成功
2025-01-19 11:50:25 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:25 [INFO] root: AI服务客户端初始化成功
2025-01-19 11:50:25 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:50:25 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:25 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:50:25 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:50:25 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:25 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:50:25 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:50:25 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:25 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:50:25 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:50:25 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:25 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:50:25 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 11:50:25 [INFO] __main__: [Gradio-Err] 2025-01-19 11:50:25 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 11:50:34 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [87253]
2025-01-19 11:50:34 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-01-19 11:50:34 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-01-19 11:50:34 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Err] File "<string>", line 15, in <module>
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Err] File "/Users/txin/food_journey_backend/src/web_app.py", line 496, in launch
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Err] self.interface.launch(**launch_kwargs)
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/gradio/blocks.py", line 2619, in launch
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Err] raise ValueError(
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Err] ValueError: When localhost is not accessible, a shareable link must be created. Please set share=True or check your proxy settings to allow access to localhost.
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 11:50:38 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 11:50:39 [ERROR] __main__: Gradio 服务意外退出
2025-01-19 11:50:39 [INFO] __main__: 正在清理资源...
2025-01-19 11:50:39 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 11:50:39 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-01-19 11:50:39 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 11:50:39 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 11:50:39 [INFO] __main__: Gradio 服务已关闭
2025-01-19 11:53:19 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:53:19 [INFO] __main__: 正在启动服务...
2025-01-19 11:53:19 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 11:53:19 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 11:53:20 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:53:20 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:20 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:53:22 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:53:22 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:22 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:53:23 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:53:23 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:23 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:53:25 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:53:25 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:25 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:53:28 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:53:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:28 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:53:30 [INFO] root: AI服务客户端初始化成功
2025-01-19 11:53:30 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:30 [INFO] root: AI服务客户端初始化成功
2025-01-19 11:53:30 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:53:30 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:53:30 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:30 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:53:30 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:30 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:53:30 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:53:30 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:30 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:53:30 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:53:30 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:30 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:53:30 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 11:53:30 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:30 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 11:53:39 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [93019]
2025-01-19 11:53:39 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-01-19 11:53:39 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-01-19 11:53:39 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 11:53:41 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 11:53:41 [INFO] __main__: [Gradio-Err] 2025-01-19 11:53:41 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 11:55:00 [INFO] __main__: 收到信号 2，正在优雅关闭...
2025-01-19 11:55:00 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-01-19 11:55:00 [INFO] __main__: 正在清理资源...
2025-01-19 11:55:00 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 11:55:00 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 11:55:00 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 11:55:01 [INFO] __main__: Gradio 服务已关闭
2025-01-19 11:55:04 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:55:04 [INFO] __main__: 正在启动服务...
2025-01-19 11:55:04 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 11:55:04 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 11:55:05 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:55:05 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:05 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 11:55:07 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:55:07 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:07 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:55:07 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:55:07 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:07 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:55:09 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:55:09 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:09 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:55:12 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:55:12 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:12 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:55:13 [INFO] root: AI服务客户端初始化成功
2025-01-19 11:55:13 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:13 [INFO] root: AI服务客户端初始化成功
2025-01-19 11:55:13 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:55:13 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:55:13 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:13 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:55:13 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:13 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:55:14 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:55:14 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:14 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 11:55:14 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:55:14 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:14 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 11:55:14 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:55:14 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:14 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 11:55:14 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 11:55:14 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:14 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 11:55:14 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 11:55:14 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:14 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 11:55:21 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [96333]
2025-01-19 11:55:21 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-01-19 11:55:21 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-01-19 11:55:21 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_begin with no data
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_field with data[42:61]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_begin with no data
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_value with data[63:108]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_field with data[110:122]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_value with data[124:148]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_field with data[42:61]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_headers_finished with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_value with data[63:108]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_field with data[110:122]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_value with data[124:148]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_headers_finished with no data
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_data with data[152:261584]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_data with data[152:261584]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_data with data[0:105406]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_data with data[0:105406]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_end with no data
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_begin with no data
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_field with data[42:61]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_value with data[63:108]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_begin with no data
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_field with data[110:122]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_value with data[124:148]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_headers_finished with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_field with data[42:61]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_value with data[63:108]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_field with data[110:122]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_value with data[124:148]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_data with data[152:261584]
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_headers_finished with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_data with data[152:261584]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_data with data[0:105406]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_data with data[0:105406]
2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_part_end with no data
2025-01-19 11:55:54 [INFO] __main__: [Gradio-Err] 2025-01-19 11:55:54 [DEBUG] python_multipart.multipart: Calling on_end with no data
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_part_begin with no data
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_field with data[42:61]
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_value with data[63:106]
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_field with data[108:120]
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_part_begin with no data
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_value with data[122:131]
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_field with data[42:61]
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_headers_finished with no data
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_value with data[63:106]
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_field with data[108:120]
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_value with data[122:131]
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_header_end with no data
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_headers_finished with no data
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_part_data with data[135:18670]
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_part_end with no data
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_part_data with data[135:18670]
2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_end with no data
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_part_end with no data
2025-01-19 11:56:28 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:28 [DEBUG] python_multipart.multipart: Calling on_end with no data
2025-01-19 11:56:29 [INFO] root: 接收到的图片数据类型: <class 'str'>
2025-01-19 11:56:29 [INFO] root: 从文件路径读取图片: /private/var/folders/xf/8rxv_ypx7z51jhmtj_m0rs4h0000gn/T/gradio/7b06467cdb250262addb49e0ab066efeb80bcb598314ce26349170d628cdb754/res.png
2025-01-19 11:56:29 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:29 [INFO] root: 接收到的图片数据类型: <class 'str'>
2025-01-19 11:56:29 [INFO] root: 原始图片大小: 18535 bytes
2025-01-19 11:56:29 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:29 [INFO] root: 从文件路径读取图片: /private/var/folders/xf/8rxv_ypx7z51jhmtj_m0rs4h0000gn/T/gradio/7b06467cdb250262addb49e0ab066efeb80bcb598314ce26349170d628cdb754/res.png
2025-01-19 11:56:29 [INFO] root: 转换后的base64字符串长度: 24716
2025-01-19 11:56:29 [INFO] root: base64字符串前100个字符: /9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8Q
2025-01-19 11:56:29 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:29 [INFO] root: 原始图片大小: 18535 bytes
2025-01-19 11:56:29 [INFO] root: 开始发送预测请求...
2025-01-19 11:56:29 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:29 [INFO] root: 转换后的base64字符串长度: 24716
2025-01-19 11:56:29 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:29 [INFO] root: base64字符串前100个字符: /9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgICAgMCAgIDAwMDBAYEBAQEBAgGBgUGCQgKCgkICQkKDA8MCgsOCwkJDRENDg8Q
2025-01-19 11:56:29 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:29 [INFO] root: 开始发送预测请求...
2025-01-19 11:56:35 [INFO] root: 收到预测结果: The image shows a fruit platter. The fruits include: kiwi, oranges, bananas, grapes and possibly peaches or apples. There are also some other unidentifiable pieces of fruit. 
I am an AI assistant, I do not have access to real-time information or the ability to zoom in on images, so I cannot provide more specific details about what is included on the plate. However, based on the image provided, it appears that there may be additional types of fruit present beyond what you mentioned in your question.
2025-01-19 11:56:35 [INFO] __main__: [Gradio-Err] 2025-01-19 11:56:35 [INFO] root: 收到预测结果: The image shows a fruit platter. The fruits include: kiwi, oranges, bananas, grapes and possibly peaches or apples. There are also some other unidentifiable pieces of fruit.
2025-01-19 11:56:35 [INFO] __main__: [Gradio-Err] I am an AI assistant, I do not have access to real-time information or the ability to zoom in on images, so I cannot provide more specific details about what is included on the plate. However, based on the image provided, it appears that there may be additional types of fruit present beyond what you mentioned in your question.
2025-01-19 11:59:16 [INFO] __main__: 收到信号 2，正在优雅关闭...
2025-01-19 11:59:16 [INFO] __main__: 正在清理资源...
2025-01-19 11:59:16 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 11:59:16 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-01-19 11:59:16 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 11:59:16 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 11:59:16 [INFO] __main__: Gradio 服务已关闭
2025-01-19 14:35:34 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 14:35:34 [INFO] __main__: 正在启动服务...
2025-01-19 14:35:34 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 14:35:34 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 14:35:35 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 14:35:35 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:35 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 14:35:37 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:35:37 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:37 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:35:37 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:35:37 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:37 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:35:39 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:35:39 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:39 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:35:41 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:35:41 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:41 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:35:43 [INFO] root: AI服务客户端初始化成功
2025-01-19 14:35:43 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:43 [INFO] root: AI服务客户端初始化成功
2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:35:43 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:35:43 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 14:35:43 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:43 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:35:43 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:35:43 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 14:35:43 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:43 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 14:35:43 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:35:43 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 14:35:43 [INFO] __main__: [Gradio-Err] 2025-01-19 14:35:43 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 14:35:50 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [6972]
2025-01-19 14:35:50 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-01-19 14:35:50 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-01-19 14:35:50 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 14:38:39 [INFO] __main__: 收到信号 2，正在优雅关闭...
2025-01-19 14:38:39 [INFO] __main__: 正在清理资源...
2025-01-19 14:38:39 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 14:38:39 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-01-19 14:38:39 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 14:38:39 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 14:38:39 [INFO] __main__: Gradio 服务已关闭
2025-01-19 14:38:40 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 14:38:40 [INFO] __main__: 正在启动服务...
2025-01-19 14:38:40 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 14:38:40 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 14:38:42 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 14:38:42 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:42 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 14:38:43 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:38:43 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:43 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:38:44 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:38:44 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:44 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:38:45 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:38:45 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:45 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:38:47 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:38:47 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:47 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:38:49 [INFO] root: AI服务客户端初始化成功
2025-01-19 14:38:49 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:49 [INFO] root: AI服务客户端初始化成功
2025-01-19 14:38:49 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:38:49 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:49 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 14:38:49 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 14:38:49 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:49 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 14:38:49 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:38:49 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:49 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 14:38:49 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 14:38:49 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:49 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 14:38:49 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 14:38:49 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:49 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 14:38:49 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 14:38:49 [INFO] __main__: [Gradio-Err] 2025-01-19 14:38:49 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 14:38:58 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [13652]
2025-01-19 14:38:58 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-01-19 14:38:58 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-01-19 14:38:58 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 14:39:04 [INFO] __main__: 收到信号 2，正在优雅关闭...
2025-01-19 14:39:04 [INFO] __main__: 正在清理资源...
2025-01-19 14:39:04 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 14:39:04 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-01-19 14:39:04 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 14:39:04 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 14:39:04 [INFO] __main__: Gradio 服务已关闭
2025-01-19 17:18:42 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:18:42 [INFO] __main__: 正在启动服务...
2025-01-19 17:18:42 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 17:18:42 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 17:18:44 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:18:44 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:44 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:18:45 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:18:45 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:45 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:18:46 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:18:46 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:46 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:18:48 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:18:48 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:48 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:18:49 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:18:49 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:49 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:18:51 [INFO] root: AI服务客户端初始化成功
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:51 [INFO] root: AI服务客户端初始化成功
2025-01-19 17:18:51 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:51 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:18:51 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:51 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:18:51 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:51 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/pydantic/main.py", line 884, in __getattr__
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] return pydantic_extra[item]
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] ~~~~~~~~~~~~~~^^^^^^
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] KeyError: 'host'
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] The above exception was the direct cause of the following exception:
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] File "<string>", line 15, in <module>
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] File "/Users/txin/food_journey_backend/src/web_app.py", line 489, in launch
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] "server_name": config.host,
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/pydantic/main.py", line 886, in __getattr__
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}') from exc
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] AttributeError: 'Settings' object has no attribute 'host'
2025-01-19 17:18:51 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 17:18:51 [INFO] __main__: [Gradio-Err] 2025-01-19 17:18:51 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 17:18:52 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:18:52 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:18:52 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:18:52 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:18:52 [ERROR] __main__: Gradio 服务意外退出
2025-01-19 17:18:52 [INFO] __main__: 正在清理资源...
2025-01-19 17:18:52 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 17:18:57 [WARNING] __main__: FastAPI 服务未能在5秒内关闭，强制结束
2025-01-19 17:18:57 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 17:18:57 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 17:18:57 [INFO] __main__: Gradio 服务已关闭
2025-01-19 17:24:01 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:24:01 [INFO] __main__: 正在启动服务...
2025-01-19 17:24:01 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 17:24:01 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 17:24:03 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:24:03 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:03 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:24:04 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:24:04 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:04 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:24:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:24:05 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:24:06 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:24:06 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:06 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:24:08 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:24:08 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:08 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:24:10 [INFO] root: AI服务客户端初始化成功
2025-01-19 17:24:10 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:10 [INFO] root: AI服务客户端初始化成功
2025-01-19 17:24:10 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:24:10 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:10 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:24:10 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:24:10 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:10 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:24:10 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:24:10 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:10 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:24:10 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:24:10 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:10 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:24:10 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:24:10 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:10 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:24:10 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 17:24:10 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:10 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 17:24:11 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 17:24:11 [INFO] __main__: [Gradio-Err] 2025-01-19 17:24:11 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/launched HTTP/1.1" 200 0
2025-01-19 17:24:17 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [32367]
2025-01-19 17:24:17 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-01-19 17:24:17 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-01-19 17:24:17 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 17:26:12 [INFO] __main__: 收到信号 2，正在优雅关闭...
2025-01-19 17:26:12 [INFO] __main__: 正在清理资源...
2025-01-19 17:26:12 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 17:26:12 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-01-19 17:26:12 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 17:26:12 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 17:26:12 [INFO] __main__: Gradio 服务已关闭
2025-01-19 17:26:14 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:26:14 [INFO] __main__: 正在启动服务...
2025-01-19 17:26:14 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 17:26:14 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 17:26:15 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:26:15 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:15 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:26:17 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:26:17 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:17 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:26:18 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:18 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:18 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:19 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:19 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:19 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:21 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:21 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:21 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:23 [INFO] root: AI服务客户端初始化成功
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:23 [INFO] root: AI服务客户端初始化成功
2025-01-19 17:26:23 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:23 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:26:23 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:23 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:26:23 [INFO] src.web_app: 启用HTTPS支持
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:23 [INFO] src.web_app: 启用HTTPS支持
2025-01-19 17:26:23 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:23 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] Exception in thread Thread-13 (run):
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/threading.py", line 1075, in _bootstrap_inner
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] self.run()
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/threading.py", line 1012, in run
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] self._target(*self._args, **self._kwargs)
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 66, in run
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] return asyncio.run(self.serve(sockets=sockets))
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/runners.py", line 194, in run
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] return runner.run(main)
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/runners.py", line 118, in run
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] return self._loop.run_until_complete(task)
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] return future.result()
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 70, in serve
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] await self._serve(sockets)
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 77, in _serve
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] config.load()
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/config.py", line 401, in load
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] self.ssl: ssl.SSLContext | None = create_ssl_context(
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/config.py", line 114, in create_ssl_context
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] ctx.load_cert_chain(certfile, keyfile, get_password)
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] FileNotFoundError: [Errno 2] No such file or directory
2025-01-19 17:26:23 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:23 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 17:26:23 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:23 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:23 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] File "<string>", line 15, in <module>
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] File "/Users/txin/food_journey_backend/src/web_app.py", line 506, in launch
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] self.interface.launch(**launch_kwargs)
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/gradio/blocks.py", line 2515, in launch
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] ) = http_server.start_server(
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/gradio/http_server.py", line 156, in start_server
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] raise OSError(
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Err] OSError: Cannot find empty port in range: 7860-7860. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:26:28 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:26:29 [ERROR] __main__: Gradio 服务意外退出
2025-01-19 17:26:29 [INFO] __main__: 正在清理资源...
2025-01-19 17:26:29 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 17:26:30 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 17:26:30 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 17:26:30 [INFO] __main__: Gradio 服务已关闭
2025-01-19 17:26:53 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:26:53 [INFO] __main__: 正在启动服务...
2025-01-19 17:26:53 [INFO] __main__: FastAPI 服务已启动 - http://0.0.0.0:8000
2025-01-19 17:26:53 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 17:26:54 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:26:54 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:54 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 17:26:56 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:26:56 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:56 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:26:56 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:56 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:56 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:59 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:26:59 [INFO] __main__: [Gradio-Err] 2025-01-19 17:26:59 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:27:01 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:27:01 [INFO] __main__: [Gradio-Err] 2025-01-19 17:27:01 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:27:03 [INFO] root: AI服务客户端初始化成功
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] 2025-01-19 17:27:03 [INFO] root: AI服务客户端初始化成功
2025-01-19 17:27:03 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] 2025-01-19 17:27:03 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 17:27:03 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] 2025-01-19 17:27:03 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:27:03 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] 2025-01-19 17:27:03 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 17:27:03 [INFO] src.web_app: 启用HTTPS支持
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] 2025-01-19 17:27:03 [INFO] src.web_app: 启用HTTPS支持
2025-01-19 17:27:03 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] 2025-01-19 17:27:03 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] Exception in thread Thread-13 (run):
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/threading.py", line 1075, in _bootstrap_inner
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] self.run()
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/threading.py", line 1012, in run
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] self._target(*self._args, **self._kwargs)
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 66, in run
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] return asyncio.run(self.serve(sockets=sockets))
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/runners.py", line 194, in run
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] return runner.run(main)
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/runners.py", line 118, in run
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] return self._loop.run_until_complete(task)
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] return future.result()
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 70, in serve
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] await self._serve(sockets)
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 77, in _serve
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] config.load()
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/config.py", line 401, in load
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] self.ssl: ssl.SSLContext | None = create_ssl_context(
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/config.py", line 114, in create_ssl_context
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] ctx.load_cert_chain(certfile, keyfile, get_password)
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] FileNotFoundError: [Errno 2] No such file or directory
2025-01-19 17:27:03 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 17:27:03 [INFO] __main__: [Gradio-Err] 2025-01-19 17:27:03 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] File "<string>", line 15, in <module>
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] File "/Users/txin/food_journey_backend/src/web_app.py", line 506, in launch
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] self.interface.launch(**launch_kwargs)
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/gradio/blocks.py", line 2515, in launch
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] ) = http_server.start_server(
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/gradio/http_server.py", line 156, in start_server
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] raise OSError(
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Err] OSError: Cannot find empty port in range: 7860-7860. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:27:08 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 17:27:09 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [34165]
2025-01-19 17:27:09 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-01-19 17:27:09 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-01-19 17:27:09 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 17:27:09 [ERROR] __main__: Gradio 服务意外退出
2025-01-19 17:27:09 [INFO] __main__: 正在清理资源...
2025-01-19 17:27:09 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 17:27:09 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-01-19 17:27:09 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 17:27:09 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 17:27:09 [INFO] __main__: Gradio 服务已关闭
2025-01-19 18:02:45 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 18:02:45 [INFO] __main__: 正在启动服务...
2025-01-19 18:02:45 [INFO] __main__: 启用HTTPS支持
2025-01-19 18:02:45 [INFO] __main__: FastAPI 服务已启动 - https://0.0.0.0:8000
2025-01-19 18:02:45 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] Traceback (most recent call last):
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "<frozen runpy>", line 198, in _run_module_as_main
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "<frozen runpy>", line 88, in _run_code
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/__main__.py", line 4, in <module>
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] uvicorn.main()
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/click/core.py", line 1161, in __call__
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] return self.main(*args, **kwargs)
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/click/core.py", line 1082, in main
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] rv = self.invoke(ctx)
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ^^^^^^^^^^^^^^^^
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/click/core.py", line 1443, in invoke
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] return ctx.invoke(self.callback, **ctx.params)
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/click/core.py", line 788, in invoke
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] return __callback(*args, **kwargs)
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/main.py", line 412, in main
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] run(
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/main.py", line 579, in run
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] server.run()
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 66, in run
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] return asyncio.run(self.serve(sockets=sockets))
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/runners.py", line 194, in run
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] return runner.run(main)
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ^^^^^^^^^^^^^^^^
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/runners.py", line 118, in run
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] return self._loop.run_until_complete(task)
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] return future.result()
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ^^^^^^^^^^^^^^^
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 70, in serve
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] await self._serve(sockets)
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 77, in _serve
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] config.load()
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/config.py", line 401, in load
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] self.ssl: ssl.SSLContext | None = create_ssl_context(
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ^^^^^^^^^^^^^^^^^^^
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/config.py", line 114, in create_ssl_context
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] ctx.load_cert_chain(certfile, keyfile, get_password)
2025-01-19 18:02:45 [INFO] __main__: [FastAPI-Err] FileNotFoundError: [Errno 2] No such file or directory
2025-01-19 18:02:46 [ERROR] __main__: FastAPI 服务意外退出
2025-01-19 18:02:46 [INFO] __main__: 正在清理资源...
2025-01-19 18:02:46 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 18:02:46 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 18:02:46 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 18:02:46 [INFO] __main__: Gradio 服务已关闭
2025-01-19 18:03:40 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 18:03:40 [INFO] __main__: 正在启动服务...
2025-01-19 18:03:40 [ERROR] __main__: FastAPI 服务启动失败: 'Settings' object has no attribute 'USE_HTTPS'
2025-01-19 18:03:40 [ERROR] __main__: 服务运行出错: 'Settings' object has no attribute 'USE_HTTPS'
2025-01-19 18:03:40 [INFO] __main__: 正在清理资源...
2025-01-19 18:06:55 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 18:06:55 [INFO] __main__: 正在启动服务...
2025-01-19 18:06:55 [WARNING] __main__: SSL证书文件不存在，将使用HTTP模式启动
2025-01-19 18:06:55 [INFO] __main__: FastAPI服务已启动
2025-01-19 18:06:55 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-01-19 18:06:55 [INFO] __main__: [FastAPI-Err] INFO:     Will watch for changes in these directories: ['/Users/txin/food_journey_backend']
2025-01-19 18:06:55 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 18:06:55 [INFO] __main__: [FastAPI-Err] INFO:     Started reloader process [40629] using StatReload
2025-01-19 18:06:56 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 18:06:56 [INFO] __main__: [Gradio-Err] 2025-01-19 18:06:56 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 18:06:58 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 18:06:58 [INFO] __main__: [Gradio-Err] 2025-01-19 18:06:58 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 18:06:59 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 18:06:59 [INFO] __main__: [Gradio-Err] 2025-01-19 18:06:59 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 18:07:01 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 18:07:01 [INFO] __main__: [Gradio-Err] 2025-01-19 18:07:01 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 18:07:03 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 18:07:03 [INFO] __main__: [Gradio-Err] 2025-01-19 18:07:03 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 18:07:05 [INFO] root: AI服务客户端初始化成功
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] 2025-01-19 18:07:05 [INFO] root: AI服务客户端初始化成功
2025-01-19 18:07:05 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] 2025-01-19 18:07:05 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-01-19 18:07:05 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] 2025-01-19 18:07:05 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 18:07:05 [INFO] src.web_app: 启用HTTPS支持
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] 2025-01-19 18:07:05 [INFO] src.web_app: 启用HTTPS支持
2025-01-19 18:07:05 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] 2025-01-19 18:07:05 [DEBUG] asyncio: Using selector: KqueueSelector
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] Exception in thread Thread-13 (run):
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/threading.py", line 1075, in _bootstrap_inner
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] self.run()
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/threading.py", line 1012, in run
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] self._target(*self._args, **self._kwargs)
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 66, in run
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] return asyncio.run(self.serve(sockets=sockets))
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/runners.py", line 194, in run
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] return runner.run(main)
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/runners.py", line 118, in run
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] return self._loop.run_until_complete(task)
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.pyenv/versions/3.12.7/lib/python3.12/asyncio/base_events.py", line 687, in run_until_complete
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] return future.result()
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 70, in serve
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] await self._serve(sockets)
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/server.py", line 77, in _serve
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] config.load()
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/config.py", line 401, in load
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] self.ssl: ssl.SSLContext | None = create_ssl_context(
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/uvicorn/config.py", line 114, in create_ssl_context
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] ctx.load_cert_chain(certfile, keyfile, get_password)
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] FileNotFoundError: [Errno 2] No such file or directory
2025-01-19 18:07:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] 2025-01-19 18:07:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/py_client/initiated HTTP/1.1" 200 0
2025-01-19 18:07:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 18:07:05 [INFO] __main__: [Gradio-Err] 2025-01-19 18:07:05 [DEBUG] urllib3.connectionpool: https://huggingface.co:443 "HEAD /api/telemetry/gradio/initiated HTTP/1.1" 200 0
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] Traceback (most recent call last):
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] File "<string>", line 15, in <module>
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] File "/Users/txin/food_journey_backend/src/web_app.py", line 506, in launch
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] self.interface.launch(**launch_kwargs)
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/gradio/blocks.py", line 2515, in launch
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] ) = http_server.start_server(
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] ^^^^^^^^^^^^^^^^^^^^^^^^^
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] File "/Users/txin/.food_journey_env/lib/python3.12/site-packages/gradio/http_server.py", line 156, in start_server
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] raise OSError(
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Err] OSError: Cannot find empty port in range: 7860-7860. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 18:07:10 [INFO] __main__: [Gradio-Out] Loaded as API: https://63e9cf37a8d05f9e2b.gradio.live/ ✔
2025-01-19 18:07:11 [ERROR] __main__: Gradio 服务意外退出
2025-01-19 18:07:11 [INFO] __main__: 正在清理资源...
2025-01-19 18:07:11 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 18:07:14 [INFO] __main__: FastAPI 服务已关闭
2025-01-19 18:07:14 [INFO] __main__: 正在关闭 Gradio 服务...
2025-01-19 18:07:14 [INFO] __main__: Gradio 服务已关闭
2025-01-19 18:08:35 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-01-19.log, 控制台: True
2025-01-19 18:08:35 [INFO] __main__: 正在启动服务...
2025-01-19 18:08:35 [WARNING] __main__: SSL证书文件不存在，将使用HTTP模式启动
2025-01-19 18:08:35 [INFO] __main__: FastAPI服务已启动
2025-01-19 18:08:35 [INFO] __main__: [FastAPI-Err] INFO:     Will watch for changes in these directories: ['/Users/txin/food_journey_backend']
2025-01-19 18:08:35 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-01-19 18:08:35 [INFO] __main__: [FastAPI-Err] INFO:     Started reloader process [40938] using StatReload
2025-01-19 18:08:53 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [40940]
2025-01-19 18:08:53 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-01-19 18:08:53 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-01-19 18:09:17 [INFO] __main__: 收到信号 2，正在优雅关闭...
2025-01-19 18:09:17 [INFO] __main__: 正在清理资源...
2025-01-19 18:09:17 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-01-19 18:09:17 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-01-19 18:09:17 [INFO] __main__: FastAPI 服务已关闭
