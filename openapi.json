{
  "openapi": "3.1.0",
  "info": {
    "title": "Food Journey API",
    "description": "Food Journey 应用的后端 API",
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/auth/register": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "Register",
        "description": "用户注册接口\n\nArgs:\n    request: 请求对象\n    user_data: 用户注册数据\n    db: 数据库会话\n    cache: 缓存管理器\n    \nReturns:\n    JSONResponse: 包含访问令牌和用户信息的响应\n    \nRaises:\n    HTTPException: 当注册过程中出现错误时抛出",
        "operationId": "register_api_v1_auth_register_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RateLimitErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "Login",
        "description": "用户登录\n\nArgs:\n    request: 请求对象\n    form_data: 表单数据，包含用户名和密码\n    db: 数据库会话\n    cache: 缓存管理器\n    \nReturns:\n    JSONResponse: 包含访问令牌和用户信息的响应",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_login_api_v1_auth_login_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountLockedErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RateLimitErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login/json": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "Login Json",
        "description": "用户登录（JSON格式）\n\nArgs:\n    request: 请求对象\n    user_data: 用户登录数据\n    db: 数据库会话\n    cache: 缓存管理器\n    \nReturns:\n    JSONResponse: 包含访问令牌和用户信息的响应",
        "operationId": "login_json_api_v1_auth_login_json_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginJsonResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountLockedErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RateLimitErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/profile": {
      "get": {
        "tags": [
          "认证"
        ],
        "summary": "Get Profile",
        "description": "获取用户个人资料\n\n返回当前登录用户的详细信息\n\nArgs:\n    request: 请求对象\n    current_user: 当前登录用户\n    \nReturns:\n    JSONResponse: 用户详细信息",
        "operationId": "get_profile_api_v1_auth_profile_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/change-password": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "Change Password",
        "description": "修改密码\n\n验证当前密码并更新为新密码\n\nArgs:\n    request: 请求对象\n    password_data: 密码修改数据\n    current_user: 当前登录用户\n    db: 数据库会话\n    \nReturns:\n    dict: 包含成功消息的响应",
        "operationId": "change_password_api_v1_auth_change_password_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePassword"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Change Password Api V1 Auth Change Password Post"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RateLimitErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/avatar": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "Avatar",
        "description": "上传用户头像\n\nArgs:\n    file: 上传的头像文件\n    current_user: 当前登录用户\n    db: 数据库会话\n    \nReturns:\n    JSONResponse: 包含用户信息的响应\n    \nRaises:\n    HTTPException: 当文件大小超过限制或类型不支持时抛出",
        "operationId": "avatar_api_v1_auth_avatar_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_avatar_api_v1_auth_avatar_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationErrorResponse"
                }
              }
            }
          },
          "413": {
            "description": "Request Entity Too Large",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ValidationErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RateLimitErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "tags": [
          "认证"
        ],
        "summary": "Refresh Token",
        "description": "刷新访问令牌\n\n为当前用户生成新的访问令牌，并返回用户信息\n\nArgs:\n    request: 请求对象\n    current_user: 当前登录用户\n    \nReturns:\n    JSONResponse: 包含新访问令牌和用户信息的响应",
        "operationId": "refresh_token_api_v1_auth_refresh_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RateLimitErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/auth/me": {
      "delete": {
        "tags": [
          "认证"
        ],
        "summary": "Delete User",
        "description": "删除当前用户账户\n\n删除用户账户及其所有相关数据，包括：\n- 用户基本信息\n- 用户配置文件\n- 用户创建的菜谱\n- 用户的收藏\n- 用户的评分记录\n- 用户的运动记录\n- 用户的营养记录\n\nArgs:\n    request: 请求对象\n    current_user: 当前登录用户\n    db: 数据库会话\n    \nReturns:\n    None: 返回204状态码",
        "operationId": "delete_user_api_v1_auth_me_delete",
        "responses": {
          "204": {
            "description": "Successful Response"
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile": {
      "get": {
        "tags": [
          "用户档案"
        ],
        "summary": "Get Profile",
        "description": "获取用户的完整画像信息\n\nArgs:\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    CompleteProfile: 包含用户所有档案信息的响应",
        "operationId": "get_profile_api_v1_profile_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CompleteProfile"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/basic": {
      "put": {
        "tags": [
          "用户档案"
        ],
        "summary": "Update Basic Info",
        "description": "更新用户的基础信息和健康数据\n\nArgs:\n    data: 基础信息更新数据\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    UpdateResponse: 包含更新结果的响应",
        "operationId": "update_basic_info_api_v1_profile_basic_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BasicInfoUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/diet": {
      "put": {
        "tags": [
          "用户档案"
        ],
        "summary": "Update Diet Preferences",
        "description": "更新用户的饮食偏好\n\nArgs:\n    data: 饮食偏好更新数据\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    UpdateResponse: 包含更新结果的响应",
        "operationId": "update_diet_preferences_api_v1_profile_diet_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DietPreferencesUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/fitness": {
      "put": {
        "tags": [
          "用户档案"
        ],
        "summary": "Update Fitness Preferences",
        "description": "更新用户的健身偏好",
        "operationId": "update_fitness_preferences_api_v1_profile_fitness_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FitnessPreferencesUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/stats": {
      "get": {
        "tags": [
          "用户档案"
        ],
        "summary": "Get Health Stats",
        "description": "获取用户的综合健康数据统计\n\nArgs:\n    start_date: 开始日期（可选）\n    end_date: 结束日期（可选）\n    stat_type: 统计类型，默认为daily\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    HealthStatsResponse: 包含健康数据统计的响应",
        "operationId": "get_health_stats_api_v1_profile_stats_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "stat_type",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "daily",
              "title": "Stat Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/profile/exercise": {
      "post": {
        "tags": [
          "用户档案"
        ],
        "summary": "Record Exercise",
        "description": "记录用户的运动数据\n\nArgs:\n    data: 运动记录数据\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    ExerciseRecord: 创建的运动记录",
        "operationId": "record_exercise_api_v1_profile_exercise_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExerciseRecord"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExerciseRecord"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/meal": {
      "post": {
        "tags": [
          "用户档案"
        ],
        "summary": "Record Meal",
        "description": "记录用户的餐食数据\n\nArgs:\n    data: 餐食记录数据\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    MealRecord: 创建的餐食记录",
        "operationId": "record_meal_api_v1_profile_meal_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MealRecord"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MealRecord"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/profile/nutrition/summary/{date}": {
      "get": {
        "tags": [
          "用户档案"
        ],
        "summary": "Get Daily Nutrition Summary",
        "description": "获取指定日期的营养摄入汇总\n\nArgs:\n    date: 日期字符串 (YYYY-MM-DD)\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    DailyNutritionSummary: 每日营养摄入汇总",
        "operationId": "get_daily_nutrition_summary_api_v1_profile_nutrition_summary__date__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DailyNutritionSummary"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/chat/stream": {
      "post": {
        "tags": [
          "聊天"
        ],
        "summary": "Text Chat Stream",
        "description": "处理文本流式聊天请求",
        "operationId": "text_chat_stream_api_v1_chat_stream_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TextRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/chat/voice_transcribe": {
      "post": {
        "tags": [
          "聊天"
        ],
        "summary": "Voice Transcribe",
        "description": "语音转写接口\n\n将上传的语音文件转写为文本。支持 wav, mp3, m4a, aac, ogg 格式。",
        "operationId": "voice_transcribe_api_v1_chat_voice_transcribe_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_voice_transcribe_api_v1_chat_voice_transcribe_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/chat/voice": {
      "post": {
        "tags": [
          "聊天"
        ],
        "summary": "Voice Chat Stream",
        "description": "处理语音流式聊天请求，直接返回流式响应",
        "operationId": "voice_chat_stream_api_v1_chat_voice_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_voice_chat_stream_api_v1_chat_voice_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/chat/image/stream": {
      "post": {
        "tags": [
          "聊天"
        ],
        "summary": "Image Chat Stream",
        "description": "处理图片流式聊天请求，直接返回流式响应",
        "operationId": "image_chat_stream_api_v1_chat_image_stream_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_image_chat_stream_api_v1_chat_image_stream_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/chat/history": {
      "get": {
        "tags": [
          "聊天"
        ],
        "summary": "Get Chat History",
        "description": "获取聊天历史记录",
        "operationId": "get_chat_history_api_v1_chat_history_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "exclusiveMinimum": 0,
              "default": 20,
              "title": "Per Page"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageHistory"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/create_recipe": {
      "post": {
        "tags": [
          "食谱"
        ],
        "summary": "Create Recipe",
        "description": "创建新菜谱\n\n参数:\n    recipe (RecipeCreate): 菜谱创建模型，包含标题、描述、食材等信息\n    current_user (User): 当前登录用户\n    db (AsyncSession): 数据库会话\n    \n返回:\n    RecipeResponse: 创建成功的菜谱信息\n    \n错误:\n    422: 请求数据验证失败\n    500: 服务器内部错误",
        "operationId": "create_recipe_api_v1_recipes_create_recipe_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RecipeCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/recipes/{recipe_id}": {
      "get": {
        "tags": [
          "食谱"
        ],
        "summary": "Get Recipe",
        "description": "获取单个菜谱的详细信息\n\n参数:\n    recipe_id (str): 菜谱ID\n    db (AsyncSession): 数据库会话\n    \n返回:\n    RecipeResponse: 菜谱详细信息\n    \n错误:\n    404: 菜谱不存在\n    500: 服务器内部错误",
        "operationId": "get_recipe_api_v1_recipes__recipe_id__get",
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "食谱"
        ],
        "summary": "Update Recipe",
        "description": "更新菜谱全部信息\n\n参数:\n    recipe_id (str): 菜谱ID\n    recipe_update (RecipeUpdate): 更新的菜谱信息\n    current_user (User): 当前登录用户\n    db (AsyncSession): 数据库会话\n    \n返回:\n    RecipeResponse: 更新后的菜谱信息\n    \n错误:\n    404: 菜谱不存在\n    403: 无权限修改他人的菜谱\n    500: 服务器内部错误",
        "operationId": "update_recipe_api_v1_recipes__recipe_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RecipeUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "食谱"
        ],
        "summary": "Update Recipe",
        "description": "部分更新菜谱信息\n\n参数:\n    recipe_id (str): 菜谱ID\n    recipe_update (RecipeUpdate): 需要更新的菜谱字段\n    current_user (User): 当前登录用户\n    db (AsyncSession): 数据库会话\n    \n返回:\n    RecipeResponse: 更新后的菜谱信息\n    \n错误:\n    404: 菜谱不存在\n    403: 无权限修改他人的菜谱\n    500: 服务器内部错误",
        "operationId": "update_recipe_api_v1_recipes__recipe_id__patch",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RecipeUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "食谱"
        ],
        "summary": "Delete Recipe",
        "description": "删除菜谱\n\n参数:\n    - recipe_id: 菜谱ID\n    - current_user: 当前登录用户\n    - db: 数据库会话\n\n返回:\n    - None\n\n错误:\n    - 404: 菜谱不存在\n    - 403: 无权限删除他人的菜谱\n    - 500: 服务器内部错误",
        "operationId": "delete_recipe_api_v1_recipes__recipe_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/": {
      "get": {
        "tags": [
          "食谱"
        ],
        "summary": "Search Recipes",
        "description": "搜索菜谱",
        "operationId": "search_recipes_api_v1_recipes__get",
        "parameters": [
          {
            "name": "keyword",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Keyword"
            }
          },
          {
            "name": "difficulty",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Difficulty"
            }
          },
          {
            "name": "cuisine_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Cuisine Type"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "exclusiveMinimum": 0,
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipeListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/recipes/{recipe_id}/rate": {
      "post": {
        "tags": [
          "食谱"
        ],
        "summary": "Rate Recipe",
        "description": "为菜谱评分\n\n参数:\n    recipe_id (str): 菜谱ID\n    rating (RatingCreate): 评分信息，包含评分值和评论\n    current_user (User): 当前登录用户\n    db (AsyncSession): 数据库会话\n    \n返回:\n    RecipeResponse: 更新后的菜谱信息\n    \n错误:\n    404: 菜谱不存在\n    400: 已经评分过\n    500: 服务器内部错误",
        "operationId": "rate_recipe_api_v1_recipes__recipe_id__rate_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RatingCreate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RecipeResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/favorites/batch-add": {
      "post": {
        "tags": [
          "收藏",
          "favorites"
        ],
        "summary": "Batch Favorite Operations",
        "description": "批量添加收藏\n\nArgs:\n    request (BatchFavoriteRequest): 包含要收藏的食谱ID列表,最多10个\n    current_user (User): 当前登录用户\n    db (AsyncSession): 数据库会话\n    \nReturns:\n    dict: 包含以下字段:\n        - schema_version (str): API版本号\n        - message (str): 操作结果消息\n        - favorites (List[dict]): 新增收藏列表,每个收藏包含recipe_id和created_at\n        \nRaises:\n    HTTPException: \n        - 400: 超过收藏数量限制(>10)或食谱不存在\n        - 500: 服务器内部错误",
        "operationId": "batch_favorite_operations_api_v1_favorites_batch_add_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchFavoriteRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/api/v1/favorites/{recipe_id}": {
      "post": {
        "tags": [
          "收藏",
          "favorites"
        ],
        "summary": "Add Favorite",
        "description": "添加单个食谱到收藏\n\nArgs:\n    recipe_id (str): 要收藏的食谱ID\n    current_user (User): 当前登录用户\n    db (AsyncSession): 数据库会话\n    \nReturns:\n    FavoriteResponse: 收藏操作响应,包含:\n        - schema_version: API版本号\n        - message: 操作结果消息\n        - recipe_id: 收藏的食谱ID\n        - created_at: 收藏时间\n        \nRaises:\n    HTTPException:\n        - 404: 食谱不存在\n        - 400: 已经收藏过该食谱\n        - 500: 服务器内部错误",
        "operationId": "add_favorite_api_v1_favorites__recipe_id__post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FavoriteResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "收藏",
          "favorites"
        ],
        "summary": "Remove Favorite",
        "description": "取消收藏\n\nArgs:\n    recipe_id (str): 要取消收藏的食谱ID\n    current_user (User): 当前登录用户\n    db (AsyncSession): 数据库会话\n    \nReturns:\n    None: 成功返回204状态码\n    \nRaises:\n    HTTPException:\n        - 404: 食谱不存在或收藏不存在\n        - 403: 尝试删除其他用户的收藏\n        - 500: 服务器内部错误",
        "operationId": "remove_favorite_api_v1_favorites__recipe_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "recipe_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Recipe Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/favorites/": {
      "get": {
        "tags": [
          "收藏",
          "favorites"
        ],
        "summary": "List Favorites",
        "description": "获取用户的收藏列表\n\nArgs:\n    page (int, optional): 页码,默认为1\n    per_page (int, optional): 每页数量,默认为20\n    current_user (User): 当前登录用户\n    db (AsyncSession): 数据库会话\n    \nReturns:\n    FavoriteListResponse: 收藏列表响应,包含:\n        - schema_version: API版本号\n        - favorites: 收藏的食谱列表\n        - pagination: 分页信息(total, page, per_page, total_pages)\n        \nRaises:\n    HTTPException:\n        - 500: 服务器内部错误",
        "operationId": "list_favorites_api_v1_favorites__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Per Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FavoriteListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workouts": {
      "post": {
        "tags": [
          "运动"
        ],
        "summary": "Create Workout",
        "description": "创建训练记录\n\nArgs:\n    workout: 训练记录创建数据\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    WorkoutResponse: 包含创建的训练记录的响应\n\nRaises:\n    HTTPException: 当创建失败时抛出的异常",
        "operationId": "create_workout_api_v1_workouts_post",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkoutCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkoutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "运动"
        ],
        "summary": "List Workouts",
        "description": "获取用户的训练记录列表\n\nArgs:\n    search_params: 搜索参数\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    WorkoutListResponse: 包含训练记录列表和分页信息的响应",
        "operationId": "list_workouts_api_v1_workouts_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "exclusiveMinimum": 0,
              "default": 1,
              "title": "Page"
            }
          },
          {
            "name": "per_page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "exclusiveMinimum": 0,
              "default": 20,
              "title": "Per Page"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date-time"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "exercise_type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(STRENGTH|CARDIO|FLEXIBILITY)$"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Exercise Type"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkoutListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workouts/stats": {
      "get": {
        "tags": [
          "运动"
        ],
        "summary": "Get Workout Stats",
        "description": "获取训练统计数据\n\nArgs:\n    start_date: 统计开始日期\n    end_date: 统计结束日期\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    WorkoutStatsResponse: 包含训练统计数据的响应",
        "operationId": "get_workout_stats_api_v1_workouts_stats_get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "统计开始日期 (ISO格式: YYYY-MM-DD 或 YYYY-MM-DDTHH:MM:SSZ)",
              "title": "Start Date"
            },
            "description": "统计开始日期 (ISO格式: YYYY-MM-DD 或 YYYY-MM-DDTHH:MM:SSZ)"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "统计结束日期 (ISO格式: YYYY-MM-DD 或 YYYY-MM-DDTHH:MM:SSZ)",
              "title": "End Date"
            },
            "description": "统计结束日期 (ISO格式: YYYY-MM-DD 或 YYYY-MM-DDTHH:MM:SSZ)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkoutStatsResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workouts/{workout_id}": {
      "get": {
        "tags": [
          "运动"
        ],
        "summary": "Get Workout",
        "description": "获取特定训练记录的详细信息\n\nArgs:\n    workout_id: 训练记录ID\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    WorkoutResponse: 包含训练记录详细信息的响应",
        "operationId": "get_workout_api_v1_workouts__workout_id__get",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "workout_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Workout Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkoutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "运动"
        ],
        "summary": "Update Workout",
        "description": "更新训练记录\n\nArgs:\n    workout_id: 训练记录ID\n    workout_update: 训练记录更新数据\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    WorkoutResponse: 包含更新后的训练记录的响应",
        "operationId": "update_workout_api_v1_workouts__workout_id__put",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "workout_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Workout Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkoutUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkoutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "运动"
        ],
        "summary": "Delete Workout",
        "description": "删除训练记录\n\nArgs:\n    workout_id: 训练记录ID\n    current_user: 当前用户\n    db: 数据库会话",
        "operationId": "delete_workout_api_v1_workouts__workout_id__delete",
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ],
        "parameters": [
          {
            "name": "workout_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Workout Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workouts/text": {
      "post": {
        "tags": [
          "运动"
        ],
        "summary": "Create Workout From Text",
        "description": "从文本创建训练记录\n\nArgs:\n    workout_text: 训练文本输入\n    current_user: 当前用户\n    db: 数据库会话\n\nReturns:\n    WorkoutResponse: 包含创建的训练记录的响应",
        "operationId": "create_workout_from_text_api_v1_workouts_text_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkoutTextInput"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WorkoutResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "OAuth2PasswordBearer": []
          }
        ]
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "根路径处理器",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "AccountLockedErrorResponse": {
        "properties": {
          "detail": {
            "type": "string",
            "title": "Detail",
            "description": "错误信息"
          },
          "locked_until": {
            "type": "string",
            "format": "date-time",
            "title": "Locked Until",
            "description": "锁定结束时间"
          },
          "remaining_time": {
            "type": "integer",
            "title": "Remaining Time",
            "description": "剩余锁定时间（秒）"
          }
        },
        "type": "object",
        "required": [
          "detail",
          "locked_until",
          "remaining_time"
        ],
        "title": "AccountLockedErrorResponse",
        "description": "账户锁定错误响应模型",
        "example": {
          "detail": "账户已被锁定，请稍后再试",
          "locked_until": "2024-01-01T00:15:00",
          "remaining_time": 900
        }
      },
      "BasicInfoUpdate": {
        "properties": {
          "birth_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Date",
            "description": "出生日期"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(男|女|其他)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender",
            "description": "性别"
          },
          "height": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 300.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Height",
            "description": "身高（厘米）"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 500.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight",
            "description": "体重（千克）"
          },
          "body_fat_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Body Fat Percentage",
            "description": "体脂率（%）"
          },
          "muscle_mass": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 200.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Muscle Mass",
            "description": "肌肉量（千克）"
          },
          "health_conditions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Health Conditions",
            "description": "健康状况"
          },
          "extended_attributes": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extended Attributes",
            "description": "扩展属性"
          }
        },
        "type": "object",
        "title": "BasicInfoUpdate",
        "description": "基础信息更新模型"
      },
      "BatchFavoriteRequest": {
        "properties": {
          "recipe_ids": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Recipe Ids",
            "description": "要收藏的食谱ID列表,最多10个"
          }
        },
        "type": "object",
        "required": [
          "recipe_ids"
        ],
        "title": "BatchFavoriteRequest",
        "description": "批量收藏请求模型\n\nAttributes:\n    recipe_ids (List[str]): 要收藏的食谱ID列表,最多10个",
        "example": {
          "recipe_ids": [
            "recipe-id-1",
            "recipe-id-2",
            "recipe-id-3"
          ]
        }
      },
      "Body_avatar_api_v1_auth_avatar_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_avatar_api_v1_auth_avatar_post"
      },
      "Body_image_chat_stream_api_v1_chat_image_stream_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "caption": {
            "type": "string",
            "title": "Caption",
            "default": ""
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_image_chat_stream_api_v1_chat_image_stream_post"
      },
      "Body_login_api_v1_auth_login_post": {
        "properties": {
          "grant_type": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "password"
              },
              {
                "type": "null"
              }
            ],
            "title": "Grant Type"
          },
          "username": {
            "type": "string",
            "title": "Username"
          },
          "password": {
            "type": "string",
            "title": "Password"
          },
          "scope": {
            "type": "string",
            "title": "Scope",
            "default": ""
          },
          "client_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Id"
          },
          "client_secret": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Client Secret"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "Body_login_api_v1_auth_login_post"
      },
      "Body_voice_chat_stream_api_v1_chat_voice_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_voice_chat_stream_api_v1_chat_voice_post"
      },
      "Body_voice_transcribe_api_v1_chat_voice_transcribe_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_voice_transcribe_api_v1_chat_voice_transcribe_post"
      },
      "ChangePassword": {
        "properties": {
          "current_password": {
            "type": "string",
            "title": "Current Password",
            "description": "当前密码"
          },
          "new_password": {
            "type": "string",
            "maxLength": 64,
            "minLength": 8,
            "title": "New Password",
            "description": "新密码，8-64个字符，必须包含大小写字母、数字和特殊字符"
          }
        },
        "type": "object",
        "required": [
          "current_password",
          "new_password"
        ],
        "title": "ChangePassword",
        "description": "密码修改请求模型"
      },
      "CompleteProfile": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "default": "1.0"
          },
          "user_profile": {
            "$ref": "#/components/schemas/UserProfile"
          },
          "health_profile": {
            "$ref": "#/components/schemas/HealthProfile"
          },
          "diet_profile": {
            "$ref": "#/components/schemas/DietProfile"
          },
          "fitness_profile": {
            "$ref": "#/components/schemas/FitnessProfile"
          },
          "extended_attributes": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extended Attributes",
            "description": "扩展属性",
            "default": {}
          }
        },
        "type": "object",
        "required": [
          "user_profile",
          "health_profile",
          "diet_profile",
          "fitness_profile"
        ],
        "title": "CompleteProfile",
        "description": "完整用户档案模型"
      },
      "DailyNutritionSummary": {
        "properties": {
          "summary_date": {
            "type": "string",
            "format": "date",
            "title": "Summary Date",
            "description": "日期"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "用户ID"
          },
          "total_calories": {
            "type": "number",
            "title": "Total Calories",
            "description": "总卡路里",
            "default": 0
          },
          "total_protein": {
            "type": "number",
            "title": "Total Protein",
            "description": "总蛋白质（克）",
            "default": 0
          },
          "total_carbs": {
            "type": "number",
            "title": "Total Carbs",
            "description": "总碳水化合物（克）",
            "default": 0
          },
          "total_fat": {
            "type": "number",
            "title": "Total Fat",
            "description": "总脂肪（克）",
            "default": 0
          },
          "total_fiber": {
            "type": "number",
            "title": "Total Fiber",
            "description": "总膳食纤维（克）",
            "default": 0
          },
          "meals": {
            "items": {
              "$ref": "#/components/schemas/MealRecord"
            },
            "type": "array",
            "title": "Meals",
            "description": "当日餐食记录",
            "default": []
          },
          "exercises": {
            "items": {
              "$ref": "#/components/schemas/ExerciseRecord"
            },
            "type": "array",
            "title": "Exercises",
            "description": "当日运动记录",
            "default": []
          },
          "net_calories": {
            "type": "number",
            "title": "Net Calories",
            "description": "净卡路里（摄入-消耗）",
            "default": 0
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "更新时间"
          }
        },
        "type": "object",
        "required": [
          "summary_date",
          "user_id",
          "created_at",
          "updated_at"
        ],
        "title": "DailyNutritionSummary",
        "description": "每日营养摄入汇总模型"
      },
      "DietPreferencesUpdate": {
        "properties": {
          "cooking_skill_level": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(初级|中级|高级)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cooking Skill Level",
            "description": "烹饪技能水平"
          },
          "favorite_cuisines": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Favorite Cuisines",
            "description": "喜好的菜系"
          },
          "dietary_restrictions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dietary Restrictions",
            "description": "饮食限制"
          },
          "allergies": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allergies",
            "description": "食物过敏"
          },
          "nutrition_goals": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nutrition Goals",
            "description": "营养目标"
          },
          "calorie_preference": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Calorie Preference",
            "description": "每日卡路里目标"
          },
          "extended_attributes": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extended Attributes",
            "description": "扩展属性"
          }
        },
        "type": "object",
        "title": "DietPreferencesUpdate",
        "description": "饮食偏好更新模型"
      },
      "DietProfile": {
        "properties": {
          "cooking_skill_level": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(初级|中级|高级)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cooking Skill Level",
            "description": "烹饪技能水平"
          },
          "favorite_cuisines": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Favorite Cuisines",
            "description": "喜好的菜系"
          },
          "dietary_restrictions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dietary Restrictions",
            "description": "饮食限制"
          },
          "allergies": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Allergies",
            "description": "食物过敏"
          },
          "nutrition_goals": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nutrition Goals",
            "description": "营养目标"
          },
          "calorie_preference": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Calorie Preference",
            "description": "每日卡路里目标"
          },
          "eating_habits": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Eating Habits",
            "description": "饮食习惯，例如是否有规律进餐，是否吃快餐等"
          },
          "diet_goal": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Diet Goal",
            "description": "饮食目标，例如每日摄入2000卡目标，蛋白质摄入100g"
          }
        },
        "type": "object",
        "title": "DietProfile",
        "description": "饮食档案模型"
      },
      "ErrorResponse": {
        "properties": {
          "detail": {
            "type": "string",
            "title": "Detail",
            "description": "错误信息"
          }
        },
        "type": "object",
        "required": [
          "detail"
        ],
        "title": "ErrorResponse",
        "description": "通用错误响应模型",
        "example": {
          "detail": "用户名或密码错误"
        }
      },
      "ExerciseRecord": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "记录ID"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "用户ID"
          },
          "exercise_name": {
            "type": "string",
            "title": "Exercise Name",
            "description": "运动名称"
          },
          "exercise_type": {
            "type": "string",
            "pattern": "^(力量|有氧|拉伸|其他)$",
            "title": "Exercise Type",
            "description": "运动类型"
          },
          "sets": {
            "items": {
              "$ref": "#/components/schemas/ExerciseSet"
            },
            "type": "array",
            "title": "Sets",
            "description": "运动组数详情"
          },
          "calories_burned": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Calories Burned",
            "description": "消耗卡路里"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "备注"
          },
          "recorded_at": {
            "type": "string",
            "format": "date-time",
            "title": "Recorded At",
            "description": "记录时间"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "更新时间"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "exercise_name",
          "exercise_type",
          "sets",
          "recorded_at",
          "created_at",
          "updated_at"
        ],
        "title": "ExerciseRecord",
        "description": "运动记录模型"
      },
      "ExerciseSet": {
        "properties": {
          "reps": {
            "type": "integer",
            "minimum": 0.0,
            "title": "Reps",
            "description": "重复次数"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight",
            "description": "重量（千克）"
          },
          "duration": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration",
            "description": "持续时间（秒）"
          },
          "distance": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Distance",
            "description": "距离（米）"
          }
        },
        "type": "object",
        "required": [
          "reps"
        ],
        "title": "ExerciseSet",
        "description": "运动组数模型"
      },
      "FavoriteListResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "API版本号",
            "default": "1.0"
          },
          "favorites": {
            "items": {
              "$ref": "#/components/schemas/FavoriteRecipe"
            },
            "type": "array",
            "title": "Favorites",
            "description": "收藏的食谱列表"
          },
          "pagination": {
            "$ref": "#/components/schemas/src__schemas__favorite__PaginationInfo",
            "description": "分页信息"
          }
        },
        "type": "object",
        "required": [
          "favorites",
          "pagination"
        ],
        "title": "FavoriteListResponse",
        "description": "收藏列表响应模型\n\nAttributes:\n    schema_version (str): API版本号,默认为\"1.0\"\n    favorites (List[FavoriteRecipe]): 收藏的食谱列表\n    pagination (PaginationInfo): 分页信息"
      },
      "FavoriteRecipe": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Title",
            "description": "菜谱标题"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Description",
            "description": "菜谱描述"
          },
          "ingredients": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "maxItems": 50,
            "title": "Ingredients",
            "description": "食材列表"
          },
          "steps": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "maxItems": 30,
            "title": "Steps",
            "description": "步骤列表"
          },
          "cooking_time": {
            "type": "integer",
            "exclusiveMaximum": 1000.0,
            "exclusiveMinimum": 0.0,
            "title": "Cooking Time",
            "description": "烹饪时间(分钟)"
          },
          "difficulty": {
            "type": "string",
            "title": "Difficulty",
            "description": "难度等级"
          },
          "cuisine_type": {
            "type": "string",
            "title": "Cuisine Type",
            "description": "菜系类型"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "食谱ID"
          },
          "author_id": {
            "type": "string",
            "title": "Author Id",
            "description": "作者ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "收藏创建时间"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "更新时间"
          },
          "views_count": {
            "type": "integer",
            "title": "Views Count",
            "description": "浏览次数",
            "default": 0
          },
          "average_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Rating",
            "description": "平均评分",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "title",
          "description",
          "ingredients",
          "steps",
          "cooking_time",
          "difficulty",
          "cuisine_type",
          "id",
          "author_id",
          "created_at"
        ],
        "title": "FavoriteRecipe",
        "description": "带有收藏信息的菜谱模型\n\n继承自Recipe模型,添加了收藏时间字段\n\nAttributes:\n    created_at (datetime): 收藏创建时间"
      },
      "FavoriteResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "API版本号",
            "default": "1.0"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "操作结果消息"
          },
          "recipe_id": {
            "type": "string",
            "title": "Recipe Id",
            "description": "收藏的食谱ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "收藏创建时间"
          }
        },
        "type": "object",
        "required": [
          "message",
          "recipe_id",
          "created_at"
        ],
        "title": "FavoriteResponse",
        "description": "收藏操作响应模型\n\nAttributes:\n    schema_version (str): API版本号,默认为\"1.0\"\n    message (str): 操作结果消息\n    recipe_id (str): 收藏的食谱ID\n    created_at (datetime): 收藏创建时间"
      },
      "FitnessPreferencesUpdate": {
        "properties": {
          "fitness_level": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(初级|中级|高级)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fitness Level",
            "description": "健身水平"
          },
          "exercise_frequency": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 7.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Exercise Frequency",
            "description": "每周运动频率"
          },
          "preferred_exercises": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Exercises",
            "description": "偏好的运动类型"
          },
          "fitness_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fitness Goals",
            "description": "健身目标"
          },
          "sleep_duration": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Sleep Duration",
            "description": "每晚睡眠时长（小时）"
          },
          "deep_sleep_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Deep Sleep Percentage",
            "description": "深度睡眠比例（%）"
          },
          "fatigue_score": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Fatigue Score",
            "description": "疲劳感评分（1-5）"
          },
          "recovery_activities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recovery Activities",
            "description": "恢复性活动记录"
          },
          "short_term_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Short Term Goals",
            "description": "短期健身目标"
          },
          "long_term_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Long Term Goals",
            "description": "长期健身目标"
          },
          "goal_progress": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Goal Progress",
            "description": "目标进度百分比"
          },
          "training_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Training Type",
            "description": "训练类型"
          },
          "training_progress": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Training Progress",
            "description": "训练进度百分比"
          },
          "muscle_group_analysis": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Muscle Group Analysis",
            "description": "肌肉群分析"
          },
          "extended_attributes": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Extended Attributes",
            "description": "扩展属性"
          }
        },
        "type": "object",
        "title": "FitnessPreferencesUpdate",
        "description": "健身偏好更新模型"
      },
      "FitnessProfile": {
        "properties": {
          "fitness_level": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(初级|中级|高级)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fitness Level",
            "description": "健身水平"
          },
          "exercise_frequency": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 7.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Exercise Frequency",
            "description": "每周运动频率"
          },
          "preferred_exercises": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preferred Exercises",
            "description": "偏好的运动类型"
          },
          "fitness_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Fitness Goals",
            "description": "健身目标"
          },
          "short_term_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Short Term Goals",
            "description": "短期健身目标，例如增肌5kg，体脂降到15%"
          },
          "long_term_goals": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Long Term Goals",
            "description": "长期健身目标，例如保持健康，提高运动表现"
          },
          "goal_progress": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Goal Progress",
            "description": "目标进度百分比"
          },
          "training_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Training Type",
            "description": "训练类型，如力量训练、跑步、有氧运动等"
          },
          "training_progress": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Training Progress",
            "description": "训练进度（百分比）"
          },
          "muscle_group_analysis": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Muscle Group Analysis",
            "description": "肌肉群分析，记录训练中涉及的肌肉群"
          },
          "sleep_duration": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Sleep Duration",
            "description": "每晚睡眠时长（小时）"
          },
          "deep_sleep_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Deep Sleep Percentage",
            "description": "深度睡眠比例（%）"
          },
          "fatigue_score": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 5.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Fatigue Score",
            "description": "疲劳感评分（1-5）"
          },
          "recovery_activities": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Recovery Activities",
            "description": "恢复性活动记录，如拉伸、瑜伽等"
          },
          "performance_metrics": {
            "anyOf": [
              {
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Performance Metrics",
            "description": "运动表现指标，如最大力量、耐力、跑步速度等"
          },
          "exercise_history": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exercise History",
            "description": "运动历史记录"
          },
          "training_time_preference": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Training Time Preference",
            "description": "训练时间偏好，如早晨、下午、晚上"
          },
          "equipment_preferences": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Equipment Preferences",
            "description": "设备偏好，如哑铃、跑步机、动感单车等"
          }
        },
        "type": "object",
        "title": "FitnessProfile",
        "description": "健身档案模型"
      },
      "FoodItem": {
        "properties": {
          "food_name": {
            "type": "string",
            "title": "Food Name",
            "description": "食物名称"
          },
          "portion": {
            "type": "number",
            "minimum": 0.0,
            "title": "Portion",
            "description": "份量（克）"
          },
          "calories": {
            "type": "number",
            "minimum": 0.0,
            "title": "Calories",
            "description": "卡路里"
          },
          "protein": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Protein",
            "description": "蛋白质（克）"
          },
          "carbs": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Carbs",
            "description": "碳水化合物（克）"
          },
          "fat": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Fat",
            "description": "脂肪（克）"
          },
          "fiber": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Fiber",
            "description": "膳食纤维（克）"
          }
        },
        "type": "object",
        "required": [
          "food_name",
          "portion",
          "calories"
        ],
        "title": "FoodItem",
        "description": "食物项目模型"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthProfile": {
        "properties": {
          "height": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 300.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Height",
            "description": "身高（厘米）"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 500.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight",
            "description": "体重（千克）"
          },
          "body_fat_percentage": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Body Fat Percentage",
            "description": "体脂率（%）"
          },
          "muscle_mass": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 200.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Muscle Mass",
            "description": "肌肉量（千克）"
          },
          "bmr": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Bmr",
            "description": "基础代谢率（卡路里）"
          },
          "tdee": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Tdee",
            "description": "每日总能量消耗（卡路里）"
          },
          "health_conditions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Health Conditions",
            "description": "健康状况"
          },
          "bmi": {
            "anyOf": [
              {
                "type": "number",
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Bmi",
            "description": "体重指数（BMI）"
          },
          "water_ratio": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Water Ratio",
            "description": "身体水分比例（%）"
          }
        },
        "type": "object",
        "title": "HealthProfile",
        "description": "健康档案模型"
      },
      "HealthStatsResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "default": "1.0"
          },
          "period": {
            "type": "string",
            "title": "Period"
          },
          "body_metrics_trend": {
            "additionalProperties": {
              "items": {
                "type": "number"
              },
              "type": "array"
            },
            "type": "object",
            "title": "Body Metrics Trend"
          },
          "nutrition_summary": {
            "type": "object",
            "title": "Nutrition Summary"
          },
          "fitness_summary": {
            "type": "object",
            "title": "Fitness Summary"
          }
        },
        "type": "object",
        "required": [
          "period",
          "body_metrics_trend",
          "nutrition_summary",
          "fitness_summary"
        ],
        "title": "HealthStatsResponse",
        "description": "健康数据统计响应模型"
      },
      "LoginJsonResponse": {
        "properties": {
          "token": {
            "$ref": "#/components/schemas/Token",
            "description": "访问令牌信息"
          },
          "user": {
            "$ref": "#/components/schemas/UserResponse",
            "description": "用户信息"
          }
        },
        "type": "object",
        "required": [
          "token",
          "user"
        ],
        "title": "LoginJsonResponse",
        "description": "JSON格式登录响应模型",
        "example": {
          "token": {
            "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "expires_in": 3600,
            "token_type": "bearer"
          },
          "user": {
            "avatar_url": "http://example.com/avatar.jpg",
            "created_at": "2024-01-01T00:00:00",
            "id": "123e4567-e89b-12d3-a456-426614174000",
            "is_active": true,
            "last_login": "2024-01-02T10:30:00",
            "login_count": 5,
            "username": "testuser"
          }
        }
      },
      "LoginResponse": {
        "properties": {
          "token": {
            "$ref": "#/components/schemas/Token",
            "description": "访问令牌信息"
          },
          "user": {
            "$ref": "#/components/schemas/UserResponse",
            "description": "用户信息"
          }
        },
        "type": "object",
        "required": [
          "token",
          "user"
        ],
        "title": "LoginResponse",
        "description": "登录响应模型",
        "example": {
          "token": {
            "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "expires_in": 3600,
            "token_type": "bearer"
          },
          "user": {
            "avatar_url": "http://example.com/avatar.jpg",
            "created_at": "2024-01-01T00:00:00",
            "id": "123e4567-e89b-12d3-a456-426614174000",
            "is_active": true,
            "last_login": "2024-01-02T10:30:00",
            "login_count": 5,
            "username": "testuser"
          }
        }
      },
      "MealRecord": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "记录ID"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "用户ID"
          },
          "meal_type": {
            "type": "string",
            "pattern": "^(早餐|午餐|晚餐|加餐)$",
            "title": "Meal Type",
            "description": "餐食类型"
          },
          "food_items": {
            "items": {
              "$ref": "#/components/schemas/FoodItem"
            },
            "type": "array",
            "title": "Food Items",
            "description": "食物列表"
          },
          "total_calories": {
            "type": "number",
            "minimum": 0.0,
            "title": "Total Calories",
            "description": "总卡路里"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "用餐地点"
          },
          "mood": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mood",
            "description": "用餐心情"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "备注"
          },
          "recorded_at": {
            "type": "string",
            "format": "date-time",
            "title": "Recorded At",
            "description": "记录时间"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "更新时间"
          }
        },
        "type": "object",
        "required": [
          "id",
          "user_id",
          "meal_type",
          "food_items",
          "total_calories",
          "recorded_at",
          "created_at",
          "updated_at"
        ],
        "title": "MealRecord",
        "description": "餐食记录模型"
      },
      "MessageHistory": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "schema版本号"
          },
          "messages": {
            "items": {
              "$ref": "#/components/schemas/MessageResponse"
            },
            "type": "array",
            "title": "Messages",
            "description": "消息列表"
          },
          "pagination": {
            "$ref": "#/components/schemas/src__schemas__chat__PaginationInfo",
            "description": "分页信息"
          }
        },
        "type": "object",
        "required": [
          "schema_version",
          "messages",
          "pagination"
        ],
        "title": "MessageHistory",
        "description": "聊天历史\n\nAttributes:\n    schema_version: schema版本号\n    messages: 消息列表\n    pagination: 分页信息"
      },
      "MessageResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "description": "schema版本号"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "消息内容"
          },
          "suggestions": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Suggestions",
            "description": "建议列表",
            "default": []
          },
          "voice_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Voice Url",
            "description": "语音URL"
          },
          "image_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Image Url",
            "description": "图片URL"
          },
          "transcribed_text": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transcribed Text",
            "description": "语音转写文本"
          },
          "analysis_result": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Analysis Result",
            "description": "分析结果"
          },
          "created_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Created At",
            "description": "创建时间"
          },
          "is_user": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is User",
            "description": "是否为用户消息"
          },
          "history": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "History",
            "description": "历史消息列表，按时间正序排列",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "schema_version",
          "message"
        ],
        "title": "MessageResponse",
        "description": "消息响应\n\nAttributes:\n    schema_version: schema版本号\n    message: 消息内容\n    suggestions: 建议列表(可选)\n    voice_url: 语音URL(可选)\n    image_url: 图片URL(可选)\n    transcribed_text: 语音转写文本(可选)\n    analysis_result: 分析结果(可选)\n    created_at: 创建时间(可选)\n    is_user: 是否为用户消息(可选)\n    history: 历史消息列表(可选)，按时间正序排列"
      },
      "RateLimitErrorResponse": {
        "properties": {
          "detail": {
            "type": "string",
            "title": "Detail",
            "description": "错误信息"
          },
          "retry_after": {
            "type": "integer",
            "title": "Retry After",
            "description": "需要等待的秒数"
          }
        },
        "type": "object",
        "required": [
          "detail",
          "retry_after"
        ],
        "title": "RateLimitErrorResponse",
        "description": "频率限制错误响应模型",
        "example": {
          "detail": "请求频率超过限制",
          "retry_after": 60
        }
      },
      "RatingCreate": {
        "properties": {
          "rating": {
            "type": "number",
            "maximum": 5.0,
            "minimum": 1.0,
            "title": "Rating",
            "description": "评分值"
          },
          "comment": {
            "type": "string",
            "title": "Comment",
            "description": "评价内容"
          }
        },
        "type": "object",
        "required": [
          "rating"
        ],
        "title": "RatingCreate",
        "description": "创建评分的请求模型"
      },
      "Recipe": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Title",
            "description": "菜谱标题"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Description",
            "description": "菜谱描述"
          },
          "ingredients": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "maxItems": 50,
            "title": "Ingredients",
            "description": "食材列表"
          },
          "steps": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "maxItems": 30,
            "title": "Steps",
            "description": "步骤列表"
          },
          "cooking_time": {
            "type": "integer",
            "exclusiveMaximum": 1000.0,
            "exclusiveMinimum": 0.0,
            "title": "Cooking Time",
            "description": "烹饪时间(分钟)"
          },
          "difficulty": {
            "type": "string",
            "title": "Difficulty",
            "description": "难度等级"
          },
          "cuisine_type": {
            "type": "string",
            "title": "Cuisine Type",
            "description": "菜系类型"
          },
          "id": {
            "type": "string",
            "title": "Id",
            "description": "食谱ID"
          },
          "author_id": {
            "type": "string",
            "title": "Author Id",
            "description": "作者ID"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "创建时间"
          },
          "updated_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated At",
            "description": "更新时间"
          },
          "views_count": {
            "type": "integer",
            "title": "Views Count",
            "description": "浏览次数",
            "default": 0
          },
          "average_rating": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Average Rating",
            "description": "平均评分",
            "default": 0.0
          }
        },
        "type": "object",
        "required": [
          "title",
          "description",
          "ingredients",
          "steps",
          "cooking_time",
          "difficulty",
          "cuisine_type",
          "id",
          "author_id",
          "created_at"
        ],
        "title": "Recipe",
        "description": "完整食谱模型"
      },
      "RecipeCreate": {
        "properties": {
          "title": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Title",
            "description": "菜谱标题"
          },
          "description": {
            "type": "string",
            "maxLength": 1000,
            "minLength": 1,
            "title": "Description",
            "description": "菜谱描述"
          },
          "ingredients": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "maxItems": 50,
            "title": "Ingredients",
            "description": "食材列表"
          },
          "steps": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "maxItems": 30,
            "title": "Steps",
            "description": "步骤列表"
          },
          "cooking_time": {
            "type": "integer",
            "exclusiveMaximum": 1000.0,
            "exclusiveMinimum": 0.0,
            "title": "Cooking Time",
            "description": "烹饪时间(分钟)"
          },
          "difficulty": {
            "type": "string",
            "title": "Difficulty",
            "description": "难度等级"
          },
          "cuisine_type": {
            "type": "string",
            "title": "Cuisine Type",
            "description": "菜系类型"
          }
        },
        "type": "object",
        "required": [
          "title",
          "description",
          "ingredients",
          "steps",
          "cooking_time",
          "difficulty",
          "cuisine_type"
        ],
        "title": "RecipeCreate",
        "description": "创建食谱的请求模型"
      },
      "RecipeListResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "default": "1.0"
          },
          "recipes": {
            "items": {
              "$ref": "#/components/schemas/Recipe"
            },
            "type": "array",
            "title": "Recipes"
          },
          "pagination": {
            "$ref": "#/components/schemas/src__schemas__recipe__PaginationInfo",
            "description": "分页信息"
          }
        },
        "type": "object",
        "required": [
          "recipes",
          "pagination"
        ],
        "title": "RecipeListResponse",
        "description": "食谱列表响应模型"
      },
      "RecipeResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "default": "1.0"
          },
          "recipe": {
            "$ref": "#/components/schemas/Recipe"
          }
        },
        "type": "object",
        "required": [
          "recipe"
        ],
        "title": "RecipeResponse",
        "description": "食谱响应模型"
      },
      "RecipeUpdate": {
        "properties": {
          "title": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Title",
            "description": "食谱标题"
          },
          "description": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Description",
            "description": "食谱描述"
          },
          "ingredients": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array",
                "maxItems": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Ingredients",
            "description": "食材列表"
          },
          "steps": {
            "anyOf": [
              {
                "items": {
                  "type": "object"
                },
                "type": "array",
                "maxItems": 30
              },
              {
                "type": "null"
              }
            ],
            "title": "Steps",
            "description": "步骤列表"
          },
          "cooking_time": {
            "anyOf": [
              {
                "type": "integer",
                "exclusiveMaximum": 1000.0,
                "exclusiveMinimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Cooking Time",
            "description": "烹饪时间(分钟)"
          },
          "difficulty": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Difficulty",
            "description": "难度等级"
          },
          "cuisine_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cuisine Type",
            "description": "菜系类型"
          }
        },
        "type": "object",
        "title": "RecipeUpdate",
        "description": "更新食谱的请求模型"
      },
      "RegisterResponse": {
        "properties": {
          "token": {
            "$ref": "#/components/schemas/Token",
            "description": "访问令牌信息"
          },
          "user": {
            "$ref": "#/components/schemas/UserResponse",
            "description": "用户信息"
          }
        },
        "type": "object",
        "required": [
          "token",
          "user"
        ],
        "title": "RegisterResponse",
        "description": "注册响应模型",
        "example": {
          "token": {
            "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
            "expires_in": 3600,
            "token_type": "bearer"
          },
          "user": {
            "avatar_url": "http://example.com/avatar.jpg",
            "created_at": "2024-01-01T00:00:00",
            "id": "123e4567-e89b-12d3-a456-426614174000",
            "is_active": true,
            "last_login": "2024-01-02T10:30:00",
            "login_count": 5,
            "username": "testuser"
          }
        }
      },
      "TextRequest": {
        "properties": {
          "message": {
            "type": "string",
            "title": "Message",
            "description": "消息内容，不能为空，长度在1-1000字符之间"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "TextRequest",
        "description": "文本消息请求\n\nAttributes:\n    message: 消息内容，不能为空，长度在1-1000字符之间"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token",
            "description": "访问令牌"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "description": "令牌类型",
            "default": "bearer"
          },
          "expires_in": {
            "type": "integer",
            "title": "Expires In",
            "description": "令牌过期时间（秒）"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "expires_in"
        ],
        "title": "Token",
        "description": "令牌响应模型",
        "example": {
          "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "expires_in": 3600,
          "token_type": "bearer"
        }
      },
      "UpdateResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "default": "1.0"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "updated_fields": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Updated Fields"
          }
        },
        "type": "object",
        "required": [
          "message"
        ],
        "title": "UpdateResponse",
        "description": "更新响应模型"
      },
      "UserCreate": {
        "properties": {
          "username": {
            "type": "string",
            "maxLength": 32,
            "minLength": 3,
            "pattern": "^[a-zA-Z0-9_-]+$",
            "title": "Username",
            "description": "用户名，3-32个字符，只能包含字母、数字、下划线和连字符"
          },
          "password": {
            "type": "string",
            "maxLength": 64,
            "minLength": 8,
            "title": "Password",
            "description": "密码，8-64个字符，必须包含大小写字母、数字和特殊字符"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "UserCreate",
        "description": "用户注册请求模型"
      },
      "UserLogin": {
        "properties": {
          "username": {
            "type": "string",
            "title": "Username",
            "description": "用户名"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "密码"
          }
        },
        "type": "object",
        "required": [
          "username",
          "password"
        ],
        "title": "UserLogin",
        "description": "用户登录请求模型"
      },
      "UserProfile": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "用户ID"
          },
          "username": {
            "type": "string",
            "title": "Username",
            "description": "用户名"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "昵称"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "头像URL"
          },
          "birth_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Birth Date",
            "description": "出生日期"
          },
          "age": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Age",
            "description": "年龄"
          },
          "gender": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^(男|女|其他)$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Gender",
            "description": "性别"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "更新时间"
          }
        },
        "type": "object",
        "required": [
          "id",
          "username",
          "created_at",
          "updated_at"
        ],
        "title": "UserProfile",
        "description": "用户基本档案模型"
      },
      "UserResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "用户ID"
          },
          "username": {
            "type": "string",
            "title": "Username",
            "description": "用户名"
          },
          "avatar_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Avatar Url",
            "description": "头像URL"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "是否激活",
            "default": true
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "创建时间"
          },
          "last_login": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Login",
            "description": "最后登录时间"
          },
          "login_count": {
            "type": "integer",
            "title": "Login Count",
            "description": "登录次数",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "id",
          "username",
          "created_at"
        ],
        "title": "UserResponse",
        "description": "用户信息响应模型",
        "example": {
          "avatar_url": "http://example.com/avatar.jpg",
          "created_at": "2024-01-01T00:00:00",
          "id": "123e4567-e89b-12d3-a456-426614174000",
          "is_active": true,
          "last_login": "2024-01-02T10:30:00",
          "login_count": 5,
          "username": "testuser"
        }
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "ValidationErrorItem": {
        "properties": {
          "field": {
            "type": "string",
            "title": "Field",
            "description": "错误字段名"
          },
          "field_path": {
            "type": "string",
            "title": "Field Path",
            "description": "错误字段完整路径"
          },
          "message": {
            "type": "string",
            "title": "Message",
            "description": "错误信息"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "错误类型"
          }
        },
        "type": "object",
        "required": [
          "field",
          "field_path",
          "message",
          "type"
        ],
        "title": "ValidationErrorItem",
        "description": "验证错误项模型"
      },
      "ValidationErrorResponse": {
        "properties": {
          "detail": {
            "type": "string",
            "title": "Detail",
            "description": "错误概述"
          },
          "type": {
            "type": "string",
            "title": "Type",
            "description": "错误类型"
          },
          "errors": {
            "items": {
              "$ref": "#/components/schemas/ValidationErrorItem"
            },
            "type": "array",
            "title": "Errors",
            "description": "详细错误列表"
          }
        },
        "type": "object",
        "required": [
          "detail",
          "type",
          "errors"
        ],
        "title": "ValidationErrorResponse",
        "description": "验证错误响应模型",
        "example": {
          "detail": "输入数据验证失败",
          "errors": [
            {
              "field": "username",
              "field_path": "body.username",
              "message": "用户名只能包含字母、数字、下划线和连字符",
              "type": "value_error"
            },
            {
              "field": "password",
              "field_path": "body.password",
              "message": "密码必须包含至少一个大写字母",
              "type": "value_error"
            }
          ],
          "type": "validation_error"
        }
      },
      "Workout": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "训练计划名称"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "训练备注"
          },
          "duration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1440.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration",
            "description": "训练时长(分钟)"
          },
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "训练记录ID"
          },
          "user_id": {
            "type": "string",
            "title": "User Id",
            "description": "用户ID"
          },
          "workout_date": {
            "type": "string",
            "format": "date-time",
            "title": "Workout Date",
            "description": "训练日期"
          },
          "exercises": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/WorkoutExercise"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exercises",
            "description": "训练项目列表"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "创建时间"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "更新时间"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "user_id",
          "workout_date",
          "created_at",
          "updated_at"
        ],
        "title": "Workout",
        "description": "训练记录的响应模型"
      },
      "WorkoutCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "训练计划名称"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "训练备注"
          },
          "duration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1440.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration",
            "description": "训练时长(分钟)"
          },
          "workout_date": {
            "type": "string",
            "format": "date-time",
            "title": "Workout Date",
            "description": "训练日期",
            "example": "2024-01-01T00:00:00Z"
          },
          "exercises": {
            "items": {
              "$ref": "#/components/schemas/WorkoutExerciseCreate"
            },
            "type": "array",
            "title": "Exercises",
            "description": "训练项目列表"
          }
        },
        "type": "object",
        "required": [
          "name",
          "exercises"
        ],
        "title": "WorkoutCreate",
        "description": "创建训练记录的请求模型"
      },
      "WorkoutExercise": {
        "properties": {
          "exercise_type": {
            "type": "string",
            "pattern": "^(STRENGTH|CARDIO|FLEXIBILITY)$",
            "title": "Exercise Type",
            "description": "运动类型"
          },
          "exercise_name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Exercise Name",
            "description": "运动项目名称"
          },
          "sets": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Sets",
            "description": "组数"
          },
          "reps": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1000.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Reps",
            "description": "每组重复次数"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1000.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight",
            "description": "重量(千克)"
          },
          "distance": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1000.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Distance",
            "description": "距离(公里)"
          },
          "speed": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Speed",
            "description": "速度(公里/小时)"
          },
          "duration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1440.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration",
            "description": "该项目持续时间(分钟)"
          },
          "calories": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10000.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Calories",
            "description": "消耗卡路里"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "该项目备注"
          },
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "训练项目ID"
          },
          "workout_id": {
            "type": "integer",
            "title": "Workout Id",
            "description": "所属训练记录ID"
          }
        },
        "type": "object",
        "required": [
          "exercise_type",
          "exercise_name",
          "id",
          "workout_id"
        ],
        "title": "WorkoutExercise",
        "description": "训练项目的响应模型"
      },
      "WorkoutExerciseCreate": {
        "properties": {
          "exercise_type": {
            "type": "string",
            "pattern": "^(STRENGTH|CARDIO|FLEXIBILITY)$",
            "title": "Exercise Type",
            "description": "运动类型"
          },
          "exercise_name": {
            "type": "string",
            "maxLength": 50,
            "minLength": 1,
            "title": "Exercise Name",
            "description": "运动项目名称"
          },
          "sets": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 100.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Sets",
            "description": "组数"
          },
          "reps": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1000.0,
                "minimum": 1.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Reps",
            "description": "每组重复次数"
          },
          "weight": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1000.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Weight",
            "description": "重量(千克)"
          },
          "distance": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 1000.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Distance",
            "description": "距离(公里)"
          },
          "speed": {
            "anyOf": [
              {
                "type": "number",
                "maximum": 100.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Speed",
            "description": "速度(公里/小时)"
          },
          "duration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1440.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration",
            "description": "该项目持续时间(分钟)"
          },
          "calories": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 10000.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Calories",
            "description": "消耗卡路里"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "该项目备注"
          }
        },
        "type": "object",
        "required": [
          "exercise_type",
          "exercise_name"
        ],
        "title": "WorkoutExerciseCreate",
        "description": "创建训练项目的请求模型"
      },
      "WorkoutListResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "default": "1.0"
          },
          "workouts": {
            "items": {
              "$ref": "#/components/schemas/Workout"
            },
            "type": "array",
            "title": "Workouts"
          },
          "pagination": {
            "type": "object",
            "title": "Pagination",
            "description": "分页信息"
          }
        },
        "type": "object",
        "required": [
          "workouts",
          "pagination"
        ],
        "title": "WorkoutListResponse",
        "description": "训练记录列表响应模型"
      },
      "WorkoutResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "default": "1.0"
          },
          "workout": {
            "$ref": "#/components/schemas/Workout"
          }
        },
        "type": "object",
        "required": [
          "workout"
        ],
        "title": "WorkoutResponse",
        "description": "训练记录响应模型"
      },
      "WorkoutStats": {
        "properties": {
          "total_workouts": {
            "type": "integer",
            "title": "Total Workouts",
            "description": "训练总次数"
          },
          "total_duration": {
            "type": "integer",
            "title": "Total Duration",
            "description": "总训练时长(分钟)"
          },
          "strength_count": {
            "type": "integer",
            "title": "Strength Count",
            "description": "力量训练次数"
          },
          "cardio_count": {
            "type": "integer",
            "title": "Cardio Count",
            "description": "有氧运动次数"
          },
          "flexibility_count": {
            "type": "integer",
            "title": "Flexibility Count",
            "description": "柔韧性训练次数"
          }
        },
        "type": "object",
        "required": [
          "total_workouts",
          "total_duration",
          "strength_count",
          "cardio_count",
          "flexibility_count"
        ],
        "title": "WorkoutStats",
        "description": "训练统计数据模型"
      },
      "WorkoutStatsResponse": {
        "properties": {
          "schema_version": {
            "type": "string",
            "title": "Schema Version",
            "default": "1.0"
          },
          "stats": {
            "$ref": "#/components/schemas/WorkoutStats"
          }
        },
        "type": "object",
        "required": [
          "stats"
        ],
        "title": "WorkoutStatsResponse",
        "description": "训练统计响应模型"
      },
      "WorkoutTextInput": {
        "properties": {
          "text": {
            "type": "string",
            "title": "Text",
            "description": "训练描述文本"
          }
        },
        "type": "object",
        "required": [
          "text"
        ],
        "title": "WorkoutTextInput",
        "description": "训练文本输入模型"
      },
      "WorkoutUpdate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "训练计划名称"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 1000
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "训练备注"
          },
          "duration": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 1440.0,
                "minimum": 0.0
              },
              {
                "type": "null"
              }
            ],
            "title": "Duration",
            "description": "训练时长(分钟)"
          },
          "workout_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Workout Date",
            "description": "训练日期",
            "example": "2024-01-01T00:00:00Z"
          },
          "exercises": {
            "anyOf": [
              {
                "items": {
                  "$ref": "#/components/schemas/WorkoutExerciseCreate"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Exercises",
            "description": "训练项目列表"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "WorkoutUpdate",
        "description": "更新训练记录的请求模型"
      },
      "src__schemas__chat__PaginationInfo": {
        "properties": {
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "当前页码"
          },
          "per_page": {
            "type": "integer",
            "title": "Per Page",
            "description": "每页记录数"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "总记录数"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "总页数"
          }
        },
        "type": "object",
        "required": [
          "page",
          "per_page",
          "total",
          "total_pages"
        ],
        "title": "PaginationInfo",
        "description": "分页信息\n\nAttributes:\n    page: 当前页码\n    per_page: 每页记录数\n    total: 总记录数\n    total_pages: 总页数"
      },
      "src__schemas__favorite__PaginationInfo": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "总记录数"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "当前页码"
          },
          "per_page": {
            "type": "integer",
            "title": "Per Page",
            "description": "每页记录数"
          },
          "total_pages": {
            "type": "integer",
            "title": "Total Pages",
            "description": "总页数"
          }
        },
        "type": "object",
        "required": [
          "total",
          "page",
          "per_page",
          "total_pages"
        ],
        "title": "PaginationInfo",
        "description": "分页信息模型\n\nAttributes:\n    total (int): 总记录数\n    page (int): 当前页码\n    per_page (int): 每页记录数\n    total_pages (int): 总页数"
      },
      "src__schemas__recipe__PaginationInfo": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "总记录数"
          },
          "page": {
            "type": "integer",
            "title": "Page",
            "description": "当前页码"
          },
          "per_page": {
            "type": "integer",
            "title": "Per Page",
            "description": "每页记录数"
          },
          "pages": {
            "type": "integer",
            "title": "Pages",
            "description": "总页数"
          }
        },
        "type": "object",
        "required": [
          "total",
          "page",
          "per_page",
          "pages"
        ],
        "title": "PaginationInfo",
        "description": "分页信息模型"
      }
    },
    "securitySchemes": {
      "OAuth2PasswordBearer": {
        "type": "oauth2",
        "flows": {
          "password": {
            "scopes": {},
            "tokenUrl": "/api/v1/auth/login"
          }
        }
      }
    }
  }
}