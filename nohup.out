2025-02-15 21:18:13 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-02-15.log, 控制台: True
2025-02-15 21:18:13 [INFO] __main__: 正在启动服务...
2025-02-15 21:18:13 [INFO] __main__: FastAPI服务已启动
2025-02-15 21:18:14 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-02-15 21:18:14 [INFO] __main__: [FastAPI-Err] INFO:     Will watch for changes in these directories: ['/root/food_journey']
2025-02-15 21:18:14 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on https://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-15 21:18:14 [INFO] __main__: [FastAPI-Err] INFO:     Started reloader process [4106] using StatReload
2025-02-15 21:34:37 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-02-15.log, 控制台: True
2025-02-15 21:34:37 [INFO] __main__: 正在启动服务...
2025-02-15 21:34:37 [INFO] __main__: FastAPI服务已启动
2025-02-15 21:34:37 [INFO] __main__: Gradio 服务已启动 - http://localhost:7860
2025-02-15 21:34:38 [INFO] __main__: [FastAPI-Err] INFO:     Will watch for changes in these directories: ['/root/food_journey']
2025-02-15 21:34:38 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on https://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-15 21:34:38 [INFO] __main__: [FastAPI-Err] INFO:     Started reloader process [1820] using StatReload
2025-02-15 21:34:52 [INFO] __main__: [Gradio-Err] 2025-02-15 21:34:52 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-02-15.log, 控制台: True
2025-02-15 21:34:55 [INFO] __main__: [Gradio-Err] 2025-02-15 21:34:55 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-02-15 21:35:04 [INFO] __main__: [Gradio-Err] 2025-02-15 21:35:04 [INFO] root: AI服务客户端初始化成功
2025-02-15 21:35:04 [INFO] __main__: [Gradio-Err] 2025-02-15 21:35:04 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-02-15 21:35:04 [INFO] __main__: [Gradio-Err] 2025-02-15 21:35:04 [DEBUG] asyncio: Using selector: EpollSelector
2025-02-15 21:35:04 [INFO] __main__: [Gradio-Err] 2025-02-15 21:35:04 [WARNING] src.web_app: SSL证书文件不存在或未配置，将使用HTTP模式
2025-02-15 21:35:05 [INFO] __main__: [Gradio-Err] 2025-02-15 21:35:05 [DEBUG] asyncio: Using selector: EpollSelector
2025-02-15 21:35:05 [INFO] __main__: [Gradio-Err] 2025-02-15 21:35:05 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (1): huggingface.co:443
2025-02-15 21:35:09 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [1827]
2025-02-15 21:35:09 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-02-15 21:35:09 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-02-15 21:35:31 [INFO] __main__: [FastAPI-Err] INFO:src.routers.auth:开始用户注册: username=Test0215
2025-02-15 21:35:32 [INFO] __main__: [FastAPI-Err] INFO:src.routers.auth:用户注册成功: user_id=df57fd19-28b6-406f-bd0b-d2c9fd9ef331 username=Test0215
2025-02-15 21:35:32 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-15 21:35:32 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-15 21:35:32 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-15 21:35:32 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-15 21:35:32 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-15 21:35:32 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-15 21:35:32 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:51518 - "POST /api/v1/auth/register HTTP/1.1" 201 Created
2025-02-15 21:35:35 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:51518 - "GET /api/v1/recipes HTTP/1.1" 307 Temporary Redirect
2025-02-15 21:35:36 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:51518 - "GET /api/v1/recipes/ HTTP/1.1" 200 OK
2025-02-15 21:35:44 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:51649 - "POST /api/v1/chat/stream HTTP/1.1" 200 OK
2025-02-15 21:35:54 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:51649 - "GET /api/v1/recipes HTTP/1.1" 307 Temporary Redirect
2025-02-15 21:35:54 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:51649 - "GET /api/v1/recipes/ HTTP/1.1" 200 OK
2025-02-15 21:36:05 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:51755 - "POST /api/v1/chat/stream HTTP/1.1" 200 OK
2025-02-15 21:36:56 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:52021 - "POST /api/v1/chat/stream HTTP/1.1" 200 OK
2025-02-15 21:37:06 [INFO] __main__: [Gradio-Err] 2025-02-15 21:37:06 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (2): huggingface.co:443
2025-02-15 21:37:09 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:52066 - "POST /api/v1/chat/stream HTTP/1.1" 200 OK
2025-02-15 21:38:17 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:52435 - "GET /api/v1/recipes HTTP/1.1" 307 Temporary Redirect
2025-02-15 21:38:18 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:52435 - "GET /api/v1/recipes/ HTTP/1.1" 200 OK
2025-02-15 21:38:48 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:52619 - "POST /api/v1/chat/stream HTTP/1.1" 200 OK
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] ERROR:sqlalchemy.pool.impl.AsyncAdaptedQueuePool:The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f726770a2f0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f726770a2f0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] ERROR:sqlalchemy.pool.impl.AsyncAdaptedQueuePool:The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef89990>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef89990>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] ERROR:sqlalchemy.pool.impl.AsyncAdaptedQueuePool:The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef89d50>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef89d50>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] ERROR:sqlalchemy.pool.impl.AsyncAdaptedQueuePool:The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef8a200>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef8a200>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] ERROR:sqlalchemy.pool.impl.AsyncAdaptedQueuePool:The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef8a6b0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Err] sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef8a6b0>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-15 21:39:00 [INFO] __main__: [FastAPI-Out] INFO:     124.79.135.20:52686 - "POST /api/v1/chat/stream HTTP/1.1" 200 OK
2025-02-15 21:39:17 [INFO] __main__: [Gradio-Err] 2025-02-15 21:39:17 [DEBUG] urllib3.connectionpool: Starting new HTTPS connection (3): huggingface.co:443
2025-02-15 23:18:58 [INFO] __main__: [FastAPI-Out] INFO:     35.203.210.139:57502 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-15 23:51:30 [INFO] __main__: [FastAPI-Out] INFO:     167.94.138.61:42176 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-15 23:51:35 [INFO] __main__: [FastAPI-Out] INFO:     167.94.138.61:60996 - "PRI %2A HTTP/2.0" 404 Not Found
2025-02-15 23:51:35 [INFO] __main__: [FastAPI-Err] WARNING:  Invalid HTTP request received.
2025-02-16 02:45:54 [INFO] __main__: [FastAPI-Out] INFO:     185.247.137.223:33293 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-16 04:24:38 [INFO] __main__: [FastAPI-Out] INFO:     134.199.156.68:43754 - "GET /ab2g HTTP/1.1" 404 Not Found
2025-02-16 04:24:40 [INFO] __main__: [FastAPI-Out] INFO:     134.199.156.68:43762 - "GET /ab2h HTTP/1.1" 404 Not Found
2025-02-16 04:24:42 [INFO] __main__: [FastAPI-Out] INFO:     134.199.156.68:43780 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-16 04:24:44 [INFO] __main__: [FastAPI-Out] INFO:     134.199.156.68:46404 - "GET /login HTTP/1.1" 404 Not Found
2025-02-16 11:06:47 [INFO] __main__: [FastAPI-Out] INFO:     167.94.146.48:48052 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-16 11:06:57 [INFO] __main__: [FastAPI-Out] INFO:     167.94.146.48:38784 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-16 11:06:58 [INFO] __main__: [FastAPI-Out] INFO:     167.94.146.48:38802 - "PRI %2A HTTP/2.0" 404 Not Found
2025-02-16 11:06:58 [INFO] __main__: [FastAPI-Err] WARNING:  Invalid HTTP request received.
2025-02-16 12:32:38 [INFO] __main__: [FastAPI-Out] INFO:     147.185.133.72:64676 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-16 14:52:00 [INFO] __main__: [FastAPI-Out] INFO:     147.185.132.160:61232 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-16 20:52:10 [INFO] __main__: [FastAPI-Out] INFO:     13.64.109.6:42182 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] WARNING:  StatReload detected changes in 'src/main.py'. Reloading...
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] INFO:     Shutting down
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application shutdown.
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] INFO:     Application shutdown complete.
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] INFO:     Finished server process [1827]
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] ERROR:sqlalchemy.pool.impl.AsyncAdaptedQueuePool:Exception terminating connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef8ac50>>
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] Traceback (most recent call last):
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/sqlalchemy/pool/base.py", line 374, in _close_connection
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] self._dialect.do_terminate(connection)
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 1105, in do_terminate
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] dbapi_connection.terminate()
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 898, in terminate
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] self._connection.terminate()
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/asyncpg/connection.py", line 1478, in terminate
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] self._abort()
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/asyncpg/connection.py", line 1505, in _abort
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] self._protocol.abort()
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "asyncpg/protocol/protocol.pyx", line 607, in asyncpg.protocol.protocol.BaseProtocol.abort
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/sslproto.py", line 405, in abort
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] self._ssl_protocol._abort()
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/sslproto.py", line 737, in _abort
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] self._transport.abort()
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/selector_events.py", line 686, in abort
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] self._force_close(None)
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/selector_events.py", line 737, in _force_close
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] self._loop.call_soon(self._call_connection_lost, exc)
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/base_events.py", line 753, in call_soon
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] self._check_closed()
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/base_events.py", line 515, in _check_closed
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] raise RuntimeError('Event loop is closed')
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] RuntimeError: Event loop is closed
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] ERROR:sqlalchemy.pool.impl.AsyncAdaptedQueuePool:The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef8ac50>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-16 20:53:34 [INFO] __main__: [FastAPI-Err] sys:1: SAWarning: The garbage collector is trying to clean up non-checked-in connection <AdaptedConnection <asyncpg.connection.Connection object at 0x7f724ef8ac50>>, which will be terminated.  Please ensure that SQLAlchemy pooled connections are returned to the pool explicitly, either by calling ``close()`` or by using appropriate context managers to manage their lifecycle.
2025-02-16 20:54:06 [INFO] __main__: [FastAPI-Err] INFO:     Started server process [8196]
2025-02-16 20:54:06 [INFO] __main__: [FastAPI-Err] INFO:     Waiting for application startup.
2025-02-16 20:54:06 [INFO] __main__: [FastAPI-Err] INFO:     Application startup complete.
2025-02-16 23:27:12 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-16 23:27:12 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-16 23:27:12 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-16 23:27:12 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-16 23:27:12 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-16 23:27:12 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-16 23:27:12 [INFO] __main__: [FastAPI-Out] INFO:     137.74.181.248:46551 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-16 23:33:46 [INFO] __main__: [FastAPI-Out] INFO:     51.178.236.248:49643 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-02-17 00:40:14 [INFO] __main__: [FastAPI-Out] INFO:     162.216.150.254:62506 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 00:53:17 [INFO] __main__: [FastAPI-Out] INFO:     204.188.228.247:38924 - "GET /ab2g HTTP/1.1" 404 Not Found
2025-02-17 00:53:19 [INFO] __main__: [FastAPI-Out] INFO:     204.188.228.247:38930 - "GET /ab2h HTTP/1.1" 404 Not Found
2025-02-17 00:53:20 [INFO] __main__: [FastAPI-Out] INFO:     204.188.228.247:38958 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 00:53:22 [INFO] __main__: [FastAPI-Out] INFO:     204.188.228.247:38976 - "GET /login HTTP/1.1" 404 Not Found
2025-02-17 12:25:59 [INFO] __main__: [FastAPI-Out] INFO:     123.160.221.135:58502 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 13:33:41 [INFO] __main__: [FastAPI-Out] INFO:     35.203.210.200:63132 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 13:43:54 [INFO] __main__: [FastAPI-Out] INFO:     172.206.142.54:46380 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 15:10:21 [INFO] __main__: [FastAPI-Out] INFO:     113.141.92.57:57464 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 15:14:53 [INFO] __main__: [FastAPI-Out] INFO:     162.216.149.112:63084 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 15:23:26 [INFO] __main__: [FastAPI-Out] INFO:     64.227.150.86:38932 - "GET /aaa9 HTTP/1.1" 404 Not Found
2025-02-17 15:23:27 [INFO] __main__: [FastAPI-Out] INFO:     64.227.150.86:38944 - "GET /aab8 HTTP/1.1" 404 Not Found
2025-02-17 15:23:28 [INFO] __main__: [FastAPI-Out] INFO:     64.227.150.86:38960 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 15:55:18 [INFO] __main__: [FastAPI-Out] INFO:     164.90.136.247:58490 - "GET /ab2g HTTP/1.1" 404 Not Found
2025-02-17 15:55:20 [INFO] __main__: [FastAPI-Out] INFO:     164.90.136.247:58494 - "GET /ab2h HTTP/1.1" 404 Not Found
2025-02-17 15:55:21 [INFO] __main__: [FastAPI-Out] INFO:     164.90.136.247:58512 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 15:55:23 [INFO] __main__: [FastAPI-Out] INFO:     164.90.136.247:55336 - "GET /login HTTP/1.1" 404 Not Found
2025-02-17 16:09:42 [INFO] __main__: [FastAPI-Err] WARNING:  Invalid HTTP request received.
2025-02-17 16:09:42 [INFO] __main__: [FastAPI-Out] INFO:     203.83.234.207:55290 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 16:09:47 [INFO] __main__: [FastAPI-Out] INFO:     203.83.234.207:55292 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-02-17 16:09:47 [INFO] __main__: [FastAPI-Out] INFO:     203.83.234.207:55300 - "GET /robots.txt HTTP/1.1" 404 Not Found
2025-02-17 16:09:47 [INFO] __main__: [FastAPI-Out] INFO:     203.83.234.207:55314 - "GET /sitemap.xml HTTP/1.1" 404 Not Found
2025-02-17 17:13:44 [INFO] __main__: [FastAPI-Out] INFO:     106.119.160.83:36586 - "GET / HTTP/1.0" 500 Internal Server Error
2025-02-17 17:21:01 [INFO] __main__: [FastAPI-Out] INFO:     106.119.160.83:44110 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 17:21:03 [INFO] __main__: [FastAPI-Out] INFO:     106.119.160.83:49988 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 17:21:23 [INFO] __main__: [FastAPI-Out] INFO:     106.119.160.83:56972 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-02-17 22:38:52 [INFO] __main__: [FastAPI-Out] INFO:     206.168.34.123:45118 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 22:39:10 [INFO] __main__: [FastAPI-Out] INFO:     206.168.34.123:48272 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-17 22:39:16 [INFO] __main__: [FastAPI-Out] INFO:     206.168.34.123:48290 - "PRI %2A HTTP/2.0" 404 Not Found
2025-02-17 22:39:16 [INFO] __main__: [FastAPI-Err] WARNING:  Invalid HTTP request received.
2025-02-18 00:13:56 [INFO] __main__: [FastAPI-Out] INFO:     147.185.133.16:58712 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-18 02:53:00 [INFO] __main__: [FastAPI-Out] INFO:     167.94.145.96:52972 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-18 02:53:09 [INFO] __main__: [FastAPI-Out] INFO:     167.94.145.96:52016 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-18 02:53:10 [INFO] __main__: [FastAPI-Out] INFO:     167.94.145.96:52032 - "PRI %2A HTTP/2.0" 404 Not Found
2025-02-18 02:53:10 [INFO] __main__: [FastAPI-Err] WARNING:  Invalid HTTP request received.
2025-02-18 06:17:03 [INFO] __main__: [FastAPI-Out] INFO:     59.82.21.170:44659 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-18 06:49:57 [INFO] __main__: [FastAPI-Out] INFO:     113.215.189.189:42422 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-18 07:07:08 [INFO] __main__: [FastAPI-Out] INFO:     147.185.132.152:62934 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-18 08:51:40 [INFO] __main__: [FastAPI-Out] INFO:     139.59.168.35:60446 - "GET /ab2g HTTP/1.1" 404 Not Found
2025-02-18 08:51:42 [INFO] __main__: [FastAPI-Out] INFO:     139.59.168.35:60458 - "GET /ab2h HTTP/1.1" 404 Not Found
2025-02-18 08:51:44 [INFO] __main__: [FastAPI-Out] INFO:     139.59.168.35:60480 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-18 08:51:45 [INFO] __main__: [FastAPI-Out] INFO:     139.59.168.35:60488 - "GET /login HTTP/1.1" 404 Not Found
2025-02-18 10:16:43 [INFO] __main__: [FastAPI-Out] INFO:     8.138.35.103:41330 - "GET /.env HTTP/1.1" 404 Not Found
2025-02-18 12:41:48 [INFO] __main__: [FastAPI-Out] INFO:     147.185.133.72:59218 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-18 20:29:45 [INFO] __main__: [FastAPI-Out] INFO:     87.236.176.93:49713 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 00:14:06 [INFO] __main__: [FastAPI-Out] INFO:     147.185.132.92:62336 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 01:16:10 [INFO] __main__: [FastAPI-Out] INFO:     1.71.140.154:48062 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 01:16:33 [INFO] __main__: [FastAPI-Out] INFO:     1.71.140.154:48832 - "GET /favicon.ico HTTP/1.1" 404 Not Found
2025-02-19 01:48:39 [INFO] __main__: [FastAPI-Out] INFO:     8.136.101.92:38214 - "GET /.env HTTP/1.1" 404 Not Found
2025-02-19 01:55:31 [INFO] __main__: [FastAPI-Out] INFO:     48.217.211.242:42890 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 02:12:12 [INFO] __main__: [FastAPI-Out] INFO:     162.142.125.216:37348 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 02:12:25 [INFO] __main__: [FastAPI-Out] INFO:     162.142.125.216:33866 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 02:12:28 [INFO] __main__: [FastAPI-Out] INFO:     162.142.125.216:41636 - "PRI %2A HTTP/2.0" 404 Not Found
2025-02-19 02:12:28 [INFO] __main__: [FastAPI-Err] WARNING:  Invalid HTTP request received.
2025-02-19 05:32:52 [INFO] __main__: [FastAPI-Out] INFO:     134.199.153.123:51742 - "GET /ab2g HTTP/1.1" 404 Not Found
2025-02-19 05:32:54 [INFO] __main__: [FastAPI-Out] INFO:     134.199.153.123:51752 - "GET /ab2h HTTP/1.1" 404 Not Found
2025-02-19 05:32:56 [INFO] __main__: [FastAPI-Out] INFO:     134.199.153.123:42402 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 05:32:58 [INFO] __main__: [FastAPI-Out] INFO:     134.199.153.123:42428 - "GET /login HTTP/1.1" 404 Not Found
2025-02-19 09:10:51 [INFO] __main__: [FastAPI-Out] INFO:     147.185.133.91:60838 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 11:26:08 [INFO] __main__: [FastAPI-Out] INFO:     35.203.211.63:62860 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 12:59:49 [INFO] __main__: [FastAPI-Out] INFO:     206.189.11.79:42346 - "GET /ab2g HTTP/1.1" 404 Not Found
2025-02-19 12:59:50 [INFO] __main__: [FastAPI-Out] INFO:     206.189.11.79:42360 - "GET /ab2h HTTP/1.1" 404 Not Found
2025-02-19 12:59:52 [INFO] __main__: [FastAPI-Out] INFO:     206.189.11.79:42372 - "GET / HTTP/1.1" 500 Internal Server Error
2025-02-19 12:59:54 [INFO] __main__: [FastAPI-Out] INFO:     206.189.11.79:48714 - "GET /login HTTP/1.1" 404 Not Found
2025-02-19 17:10:57 [INFO] __main__: [FastAPI-Err] INFO:src.routers.auth:开始用户注册: username=hahaha5
2025-02-19 17:10:57 [INFO] __main__: [FastAPI-Err] ERROR:src.routers.auth:用户注册过程中发生未知错误: Mapper 'Mapper[User(users)]' has no property 'workouts'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-02-19 17:10:57 [INFO] __main__: [FastAPI-Out] INFO:     114.251.196.85:59213 - "POST /api/v1/auth/register HTTP/1.1" 500 Internal Server Error
2025-02-19 17:11:15 [INFO] __main__: [FastAPI-Err] INFO:src.routers.auth:开始用户注册: username=hahaha56
2025-02-19 17:11:15 [INFO] __main__: [FastAPI-Err] ERROR:src.routers.auth:用户注册过程中发生未知错误: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Workout(workouts)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'workouts'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.
2025-02-19 17:11:15 [INFO] __main__: [FastAPI-Out] INFO:     114.251.196.85:59223 - "POST /api/v1/auth/register HTTP/1.1" 500 Internal Server Error
2025-02-19 17:14:21 [ERROR] __main__: FastAPI 服务意外退出
2025-02-19 17:14:21 [INFO] __main__: 正在清理资源...
2025-02-19 17:14:21 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-02-19 17:14:21 [INFO] __main__: FastAPI 服务已关闭
2025-02-19 17:14:21 [INFO] __main__: 正在关闭 Gradio 服务...
2025-02-19 17:14:21 [INFO] __main__: Gradio 服务已关闭
2025-02-19 17:35:43 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-02-19.log, 控制台: True
2025-02-19 17:35:43 [INFO] __main__: 正在启动服务...
2025-02-19 17:35:43 [INFO] __main__: FastAPI服务已启动
2025-02-19 17:35:43 [INFO] __main__: [FastAPI-Err] INFO:     Will watch for changes in these directories: ['/root/food_journey']
2025-02-19 17:35:43 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on https://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-19 17:35:43 [INFO] __main__: [FastAPI-Err] INFO:     Started reloader process [37836] using StatReload
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] Process SpawnProcess-1:
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] Traceback (most recent call last):
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] self.run()
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] self._target(*self._args, **self._kwargs)
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] target(sockets=sockets)
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 62, in run
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] return asyncio.run(self.serve(sockets=sockets))
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] return loop.run_until_complete(main)
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] return future.result()
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 69, in serve
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] config.load()
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/config.py", line 458, in load
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] self.loaded_app = import_from_string(self.app)
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/importer.py", line 21, in import_from_string
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] module = importlib.import_module(module_str)
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/importlib/__init__.py", line 126, in import_module
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] return _bootstrap._gcd_import(name[level:], package, level)
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap_external>", line 883, in exec_module
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/src/main.py", line 37, in <module>
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] from .routers import auth, profile, chat, workout, recipes, favorites
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/src/routers/chat.py", line 43, in <module>
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] ai_client = AIServiceClient()
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/src/services/ai_service_client.py", line 30, in __init__
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] self.chat_client = Client(
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/gradio_client/client.py", line 153, in __init__
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] self.config = self._get_config()
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/gradio_client/client.py", line 886, in _get_config
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] raise ValueError(f"Could not fetch config for {self.src}")
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Err] ValueError: Could not fetch config for https://bce061925ee7082bc9.gradio.live/
2025-02-19 17:35:53 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-19 17:41:00 [ERROR] __main__: FastAPI 服务意外退出
2025-02-19 17:41:00 [INFO] __main__: 正在清理资源...
2025-02-19 17:41:00 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-02-19 17:41:00 [INFO] __main__: FastAPI 服务已关闭
2025-02-19 17:42:13 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-02-19.log, 控制台: True
2025-02-19 17:42:13 [INFO] __main__: 正在启动服务...
2025-02-19 17:42:13 [INFO] __main__: FastAPI服务已启动
2025-02-19 17:42:13 [INFO] __main__: [FastAPI-Err] INFO:     Will watch for changes in these directories: ['/root/food_journey']
2025-02-19 17:42:13 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on https://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-19 17:42:13 [INFO] __main__: [FastAPI-Err] INFO:     Started reloader process [37959] using StatReload
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] Process SpawnProcess-1:
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] Traceback (most recent call last):
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] self.run()
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] self._target(*self._args, **self._kwargs)
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] target(sockets=sockets)
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 62, in run
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] return asyncio.run(self.serve(sockets=sockets))
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] return loop.run_until_complete(main)
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] return future.result()
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 69, in serve
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] config.load()
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/config.py", line 458, in load
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] self.loaded_app = import_from_string(self.app)
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/importer.py", line 21, in import_from_string
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] module = importlib.import_module(module_str)
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/importlib/__init__.py", line 126, in import_module
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] return _bootstrap._gcd_import(name[level:], package, level)
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap_external>", line 883, in exec_module
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/src/main.py", line 37, in <module>
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] from .routers import auth, profile, chat, workout, recipes, favorites
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/src/routers/chat.py", line 43, in <module>
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] ai_client = AIServiceClient()
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/src/services/ai_service_client.py", line 30, in __init__
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] self.chat_client = Client(
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/gradio_client/client.py", line 153, in __init__
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] self.config = self._get_config()
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/gradio_client/client.py", line 886, in _get_config
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] raise ValueError(f"Could not fetch config for {self.src}")
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Err] ValueError: Could not fetch config for https://bce061925ee7082bc9.gradio.live/
2025-02-19 17:42:22 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-19 18:15:53 [INFO] __main__: 收到信号 15，正在优雅关闭...
2025-02-19 18:15:53 [INFO] __main__: 正在清理资源...
2025-02-19 18:15:53 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-02-19 18:15:55 [INFO] __main__: FastAPI 服务已关闭
2025-02-22 23:15:06 [INFO] root: 日志系统初始化完成 - 级别: DEBUG, 文件: logs/app-2025-02-22.log, 控制台: True
2025-02-22 23:15:06 [INFO] __main__: 正在启动服务...
2025-02-22 23:15:06 [INFO] __main__: FastAPI服务已启动
2025-02-22 23:15:06 [INFO] __main__: [FastAPI-Err] INFO:     Will watch for changes in these directories: ['/root/food_journey']
2025-02-22 23:15:06 [INFO] __main__: [FastAPI-Err] INFO:     Uvicorn running on https://0.0.0.0:8000 (Press CTRL+C to quit)
2025-02-22 23:15:06 [INFO] __main__: [FastAPI-Err] INFO:     Started reloader process [22890] using StatReload
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] Process SpawnProcess-1:
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] Traceback (most recent call last):
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] self.run()
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/multiprocessing/process.py", line 108, in run
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] self._target(*self._args, **self._kwargs)
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/_subprocess.py", line 78, in subprocess_started
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] target(sockets=sockets)
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 62, in run
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] return asyncio.run(self.serve(sockets=sockets))
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/runners.py", line 44, in run
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] return loop.run_until_complete(main)
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] return future.result()
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/server.py", line 69, in serve
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] config.load()
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/config.py", line 458, in load
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] self.loaded_app = import_from_string(self.app)
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/uvicorn/importer.py", line 21, in import_from_string
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] module = importlib.import_module(module_str)
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/usr/lib/python3.10/importlib/__init__.py", line 126, in import_module
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] return _bootstrap._gcd_import(name[level:], package, level)
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap_external>", line 883, in exec_module
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/src/main.py", line 37, in <module>
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] from .routers import auth, profile, chat, workout, recipes, favorites
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/src/routers/chat.py", line 43, in <module>
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] ai_client = AIServiceClient()
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/src/services/ai_service_client.py", line 30, in __init__
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] self.chat_client = Client(
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/gradio_client/client.py", line 153, in __init__
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] self.config = self._get_config()
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] File "/root/food_journey/.venv/lib/python3.10/site-packages/gradio_client/client.py", line 886, in _get_config
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] raise ValueError(f"Could not fetch config for {self.src}")
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Err] ValueError: Could not fetch config for https://bce061925ee7082bc9.gradio.live/
2025-02-22 23:15:19 [INFO] __main__: [FastAPI-Out] Loaded as API: https://bce061925ee7082bc9.gradio.live/ ✔
2025-02-22 23:23:29 [ERROR] __main__: FastAPI 服务意外退出
2025-02-22 23:23:29 [INFO] __main__: 正在清理资源...
2025-02-22 23:23:29 [INFO] __main__: 正在关闭 FastAPI 服务...
2025-02-22 23:23:29 [INFO] __main__: FastAPI 服务已关闭
